;(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):global.ViewMessage=factory;}(this,function ViewMessage(config,model){if(!(this instanceof ViewMessage)){return new ViewMessage(config,model);}
const __setting={summary:{title:{text:"Validation Summary",text_align:"left",font_size:"1rem",font_weight:"bold",color:"",backgroundColor:"#E0E5EB"},content:{symbol:"",color:"",backgroundColor:"#E6EAEF"},selector:".validation-summary-valid",enabled:false,attribute:"",bordered:false},for:{aspAttribute:"data-valmsg-for",attribute:"vm-for",color:""},autoclose:{delay:1000,duration:5000,action:1,callback:function(){}}},__meta={proto:this,template:document.createElement("div"),model:{action:-1,data:{},redirect:""},}
if(isValidJSON(config)){$.extend(true,__setting,config);}
if(isValidJSON(model)){setTimeout(function(){__meta.proto.bind(model);});}
this.render=function(value){let model_action=__meta.model.action.toString().toLowerCase();let autoclose_action=__setting.autoclose.action.toString().toLowerCase();if(isValidJSON(value)){__meta.model.data=value;}
if(isValidJSON(__meta.model.data)){let summary_message=$(__setting.summary.selector);if(!!__setting.summary.attribute){summary_message=$("["+__setting.summary.attribute+"]");}
let ul=$("<ul></ul>").css("padding","0 10px");if(__setting.summary.bordered){$(__meta.template).css({"border-radius":"3px","-webkit-box-shadow":"0px 0px 0.5px 0px rgba(0, 0, 0, 0.15)","-moz-box-shadow":"0px 0px 0.5px 0px rgba(0, 0, 0, 0.15)","box-shadow":"0px 0px 0.5px 0px rgba(0, 0, 0, 0.15)"});let title=$("<div>"+__setting.summary.title.text+"</div>").css({"border-top-left-radius":"3px","border-top-right-radius":"3px","height":"35px","line-height":"35px","border-bottom":".5px solid rgba(0, 0, 0, .1)","padding":"0 10px","background-color":__setting.summary.title.backgroundColor,"font-size":__setting.summary.title.font_size,"font-weight":__setting.summary.title.font_weight,"text-align":__setting.summary.title.text_align});ul.css({"list-style-type":"'"+__setting.summary.content.symbol+"'","background-color":__setting.summary.content.backgroundColor,"margin":"0","padding":"15px 30px","border-bottom-left-radius":"3px","border-bottom-right-radius":"3px"});$(__meta.template).append(title);}
ul.appendTo(__meta.template);if(__setting.summary.content.symbol===""){switch(model_action){case"reject":case"-1":ul.css({"list-style-type":"'✘'"});break;case"alert":case"0":ul.css({"list-style-type":"'⚠'"});break;case"confirm":case"1":ul.css({"list-style-type":"'✔'"});break;}}
$.each(Object.keys(__meta.model.data),function(i,key){if(__meta.model.data[key]){let li=$("<li>"+__meta.model.data[key]+"</li>");li.css({"font-family":"monospace","font-size":"0.8em","padding":"5px","color":"#EC5B5B","width":"100%","white-space":"normal","word-break":"break-word","background-color":"transparent"});li.css({"color":__setting.summary.content.color});if(__setting.summary.content.color===""){switch(model_action){case"reject":case"-1":li.css({"color":"#EC5B5B"});break;case"alert":case"0":li.css({"color":"#F09F09"});break;case"confirm":case"1":li.css({"color":"#50C05E"});break;}}
ul.append(li);}});let forNodes=$("["+__setting.for.attribute+"]"),aspForNodes=$("["+__setting.for.aspAttribute+"]");if(forNodes.length>0){for(let i=0;i<forNodes.length;i++){defineForMessage(forNodes[i],forNodes[i].getAttribute(__setting.for.attribute),__meta.model.data);}}
if(aspForNodes.length>0){for(let i=0;i<aspForNodes.length;i++){defineForMessage(aspForNodes[i],aspForNodes[i].getAttribute(__setting.for.aspAttribute),__meta.model.data);}}
if(Object.keys(__meta.model.data).length>0){if(!!summary_message){summary_message.html(__meta.template);}}else{__meta.proto.close();}}
if(autoclose_action===model_action){__meta.proto.autoclose(__setting.autoclose.callback);}
if(!!__meta.model.redirect.toLowerCase()){__meta.proto.redirect(__meta.model.redirect);}
return __meta.proto;}
this.bind=function(model){if(isValidJSON(model)){for(let p of Object.keys(model)){if(model[p]!=undefined){__meta.model[p.toLowerCase()]=model[p];}}}
return this.render(__meta.model.data);}
this.appendTo=function(container){if(container!==undefined){$(container).append(__meta.template);}}
this.close=function(callback){if(this instanceof ViewMessage){let _summary=$(__setting.summary.selector);if(!!__setting.summary.attribute){_summary=$("["+__setting.summary.attribute+"]");}
let _for=$("["+__setting.for.attribute+"]");setTimeout(()=>{_summary.children().fadeOut(0,function(){if(!!callback&&typeof callback==="function"){Promise.resolve(callback(__self,this)).then($(this).remove());}});_for.children().fadeOut(0,function(){if(!!callback&&typeof callback==="function"){Promise.resolve(callback(__self,this)).then($(this).remove());}});},0);__meta.model.data={};delete this;}}
this.autoclose=function(callback){if(this instanceof ViewMessage){let __self=this;let _autoclose=__setting.autoclose;let _summary=$(__setting.summary.selector);if(!!__setting.summary.attribute){_summary=$("["+__setting.summary.attribute+"]");}
let _for=$("["+__setting.for.attribute+"]");setTimeout(()=>{_summary.children().fadeOut(_autoclose.duration,function(){if(!!callback&&typeof callback==="function"){Promise.resolve(callback(__self,this)).then($(this).remove());}});_for.children().fadeOut(_autoclose.duration,function(){if(!!callback&&typeof callback==="function"){Promise.resolve(callback(__self,this)).then($(this).remove());}});},_autoclose.delay);delete this;}}
this.dialog=function(){$(__meta.template).css({"position":"fixed","top":"0","z-index":"9999"});return this;}
this.refresh=function(delay,force){setTimeout(()=>{if(force){location.reload(force);}
location.reload();},delay);}
this.redirect=function(url,delay,force){url=url.toLowerCase();setTimeout(()=>{if(url==="."||url==="current"||url=="0"){if(force){location.reload(force);}
location.reload();}else{location.href=url;}},delay);}
this.remove=function(key){if(!!key){if(typeof key==="string"){delete __meta.model.data[key];}
if(isValidArray(key)){for(let k of key){__meta.proto.remove(k);}}
render();}}
this.clear=function(){__meta.model.data={};render();}
function defineForMessage(node,key,value){const modelaction=__meta.model.action.toString().toLowerCase();if(node){node.textContent="";node.style.removeProperty("color");let p=key;if((p.indexOf(".")>0)){let props=p.split(".");p=props[props.length-1];}
if(value[p]){$(node).html("<span>"+value[p]+"</span>");if(__setting.for.color===""){switch(modelaction){case"reject":case"-1":$(node).css("color","#EC5B5B");break;case"alert":case"0":$(node).children().css("color","#F09F09");break;case"confirm":case"1":$(node).children().css("color","#50C05E");break;}}}}}
function isValidJSON(json){return json!==undefined&&json.constructor===Object&&Object.keys(json).length>0;};function isValidArray(array){return array!==undefined&&Array.isArray(array)&&array.length>0;};}));﻿(function(e,g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g():"function"===typeof define&&define.amd?define(g):(e=e||self,e.currency=g())})(this,function(){function e(b,a){if(!(this instanceof e))return new e(b,a);a=Object.assign({},m,a);var d=Math.pow(10,a.precision);this.intValue=b=g(b,a);this.value=b / d;a.increment=a.increment||1 / d;a.groups=a.useVedic?n:p;this.s=a;this.p=d}function g(b,a){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;var c=a.decimal;var h=a.errorOnInvalid,k=a.fromCents,l=Math.pow(10,a.precision),f=b instanceof e;if(f&&k)return b.intValue;if("number"===typeof b||f)c=f?b.value:b;else if("string"===typeof b)h=new RegExp("[^-\\d"+c+"]","g"),c=new RegExp("\\"+c,"g"),c=(c=b.replace(/\((.*)\)/,"-$1").replace(h,"").replace(c,"."))||0;else{if(h)throw Error("Invalid Input");c=0}k||(c=(c*l).toFixed(4));return d?Math.round(c):c}var m={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:function(b,a){var d=a.pattern,c=a.negativePattern,h=a.symbol,k=a.separator,l=a.decimal;a=a.groups;var f=(""+b).replace(/^-/,"").split("."),q=f[0];f=f[1];return(0<=b.value?d:c).replace("!",h).replace("#",q.replace(a,"$1"+k)+(f?l+f:""))},fromCents:!1},p=/(\d)(?=(\d{3})+\b)/g,n=/(\d)(?=(\d\d)+\d\b)/g;e.prototype={add:function(b){var a=this.s,d=this.p;return e((this.intValue+g(b,a))/(a.fromCents?1:d),a)},subtract:function(b){var a=this.s,d=this.p;return e((this.intValue-g(b,a))/(a.fromCents?1:d),a)},multiply:function(b){var a=this.s;return e(this.intValue*b /(a.fromCents?1:Math.pow(10,a.precision)),a)},divide:function(b){var a=this.s;return e(this.intValue / g(b,a,!1),a)},distribute:function(b){var a=this.intValue,d=this.p,c=this.s,h=[],k=Math[0<=a?"floor":"ceil"](a / b),l=Math.abs(a-k*b);for(d=c.fromCents?1:d;0!==b;b--){var f=e(k / d,c);0<l--&&(f=f[0<=a?"add":"subtract"](1 / d));h.push(f)}return h},dollars:function(){return~~this.value},cents:function(){return~~(this.intValue%this.p)},format:function(b){var a=this.s;return"function"===typeof b?b(this,a):a.format(this,Object.assign({},a,b))},toString:function(){var b=this.s,a=b.increment;return(Math.round(this.intValue / this.p / a)*a).toFixed(b.precision)},toJSON:function(){return this.value}};return e});﻿;(function($){$.extend(window.jQuery,$.fn.asNumber=function(){$.asNumber(this);},$.fn.asPositiveNumber=function(){$.asPositiveNumber(this);},{regex_emoji:/(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F/g,antiForgeryToken:function(data){let _value=data;data.__RequestVerificationToken=$('input[name=__RequestVerificationToken]',$("form")).val();for(let k of Object.getOwnPropertyNames(_value)){if(!!_value[k]&&_value[k].constructor===Object&&Object.getOwnPropertyNames(_value[k]).length>0){for(let c of Object.getOwnPropertyNames(_value[k])){if(typeof _value[k][c]==="string"){_value[k][c]=this.stripHTML(_value[k][c]);}}}}
return _value;},form:function(selector,attr){let _form=$("*"+selector);let _attr=!attr?"name":attr;let _self=this;let _data={},_values={},form_data={};$("*["+_attr+"]",_form).each(function(i,dom){if(dom.getAttribute(_attr)!=="__RequestVerificationToken"){_data[dom.getAttribute(_attr)]=dom;if(dom.tagName==="INPUT"||dom.tagName==="SELECT"||dom.tagName==="TEXTAREA"){switch(dom.getAttribute("type")){case"radio":if($(dom).is(":checked")){_values[dom.getAttribute(_attr)]=dom.value;}
break;case"checkbox":_values[dom.getAttribute(_attr)]=$(dom).is(":checked");break;default:_values[dom.getAttribute(_attr)]=_self.stripHTML(dom.value);break;}}else{_values[dom.getAttribute(_attr)]=_self.stripHTML(dom.textContent);}}});form_data["dom"]=_data;form_data["value"]=_values;return form_data;},stripHTML:function(html,replace){if(typeof html==="string"){if(replace){return html.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");}
return html.replace(/<.*?>/gm,"");}},stripEmoji:function(value){if(typeof value==="string"){return value.replace(this.regex_emoji,"");}},stripSpace:function(value){if(typeof value==="string"){return value.replace(/\s/g,"");}},asPositiveNumber(input){$(input).on("keyup keydown",function(e){if(this.value==""||isNaN(parseFloat(this.value))){this.value="0";}
this.value=$.validNumber(this.value);if(parseFloat(this.value)<0){this.value=parseFloat(this.value)*(-1);}});$(input).on("change",function(){if(this.value==""){this.value="0";}
this.value=parseFloat(this.value);});return input;},asNumber(input){$(input).on("keyup keydown",function(e){if(this.value==""||isNaN(parseFloat(this.value))){this.value="0";}
if(this.value.endsWith("-")){this.value="-"+this.value;}
if(this.value.startsWith("--")){this.value=this.value.toString().substring(2,this.value.length-1);}
this.value=$.validNumber(this.value).toString();});$(input).on("change",function(){if(this.value==""){this.value="0";}
this.value=parseFloat(this.value);});return input;},validNumber:function(value){if(!!value&&typeof value==="number"){value=value.toString();}
if(value==""||value=="-"||value=="00"){value="0";}
if(value=="-00"){value="-0";}
if(value=="."){value="0.";}
if(!(/^[-]?\d+[.]?\d*$/).test(value)){if(value=="-"){value="-"+value;}
value=value.toString().substring(0,value.length-1);}else{if(!value.includes(".")&&value!="-0"){value=parseFloat(value);}}
return value;}});})(window.jQuery);!function(o,e,t,s){"use strict";var i=o.fn.twbsPagination,r=function(t,s){if(this.$element=o(t),this.options=o.extend({},o.fn.twbsPagination.defaults,s),this.options.startPage<1||this.options.startPage>this.options.totalPages)throw new Error("Start page option is incorrect");if(this.options.totalPages=parseInt(this.options.totalPages),isNaN(this.options.totalPages))throw new Error("Total pages option is not correct!");if(this.options.visiblePages=parseInt(this.options.visiblePages),isNaN(this.options.visiblePages))throw new Error("Visible pages option is not correct!");if(this.options.beforePageClick instanceof Function&&this.$element.first().on("beforePage",this.options.beforePageClick),this.options.onPageClick instanceof Function&&this.$element.first().on("page",this.options.onPageClick),this.options.hideOnlyOnePage&&1==this.options.totalPages)return this.options.initiateStartPageClick&&this.$element.trigger("page",1),this;if(this.options.href&&(this.options.startPage=this.getPageFromQueryString(),this.options.startPage||(this.options.startPage=1)),"UL"===("function"==typeof this.$element.prop?this.$element.prop("tagName"):this.$element.attr("tagName")))this.$listContainer=this.$element;else{var e=this.$element,i=o([]);e.each(function(t){var s=o("<ul></ul>");o(this).append(s),i.push(s[0])}),this.$listContainer=i,this.$element=i}return this.$listContainer.addClass(this.options.paginationClass),this.options.initiateStartPageClick?this.show(this.options.startPage):(this.currentPage=this.options.startPage,this.render(this.getPages(this.options.startPage)),this.setupEvents()),this};r.prototype={constructor:r,destroy:function(){return this.$element.empty(),this.$element.removeData("twbs-pagination"),this.$element.off("page"),this},show:function(t){if(t<1||t>this.options.totalPages)throw new Error("Page is incorrect.");this.currentPage=t,this.$element.trigger("beforePage",t);var s=this.getPages(t);return this.render(s),this.setupEvents(),this.$element.trigger("page",t),s},enable:function(){this.show(this.currentPage)},disable:function(){var t=this;this.$listContainer.off("click").on("click","li",function(t){t.preventDefault()}),this.$listContainer.children().each(function(){o(this).hasClass(t.options.activeClass)||o(this).addClass(t.options.disabledClass)})},buildListItems:function(t){var s=[];if(this.options.first&&s.push(this.buildItem("first",1)),this.options.prev){var e=1<t.currentPage?t.currentPage-1:this.options.loop?this.options.totalPages:1;s.push(this.buildItem("prev",e))}for(var i=0;i<t.numeric.length;i++)s.push(this.buildItem("page",t.numeric[i]));if(this.options.next){var a=t.currentPage<this.options.totalPages?t.currentPage+1:this.options.loop?1:this.options.totalPages;s.push(this.buildItem("next",a))}return this.options.last&&s.push(this.buildItem("last",this.options.totalPages)),s},buildItem:function(t,s){var e=o("<li></li>"),i=o("<a></a>"),a=this.options[t]?this.makeText(this.options[t],s):s;return e.addClass(this.options[t+"Class"]),e.data("page",s),e.data("page-type",t),e.append(i.attr("href",this.makeHref(s)).addClass(this.options.anchorClass).html(a)),e},getPages:function(t){var s=[],e=Math.floor(this.options.visiblePages/2),i=t-e+1-this.options.visiblePages%2,a=t+e,n=this.options.visiblePages;n>this.options.totalPages&&(n=this.options.totalPages),i<=0&&(i=1,a=n),a>this.options.totalPages&&(i=this.options.totalPages-n+1,a=this.options.totalPages);for(var o=i;o<=a;)s.push(o),o++;return{currentPage:t,numeric:s}},render:function(s){var e=this;this.$listContainer.children().remove();var t=this.buildListItems(s);o.each(t,function(t,s){e.$listContainer.append(s)}),this.$listContainer.children().each(function(){var t=o(this);switch(t.data("page-type")){case"page":t.data("page")===s.currentPage&&t.addClass(e.options.activeClass);break;case"first":t.toggleClass(e.options.disabledClass,1===s.currentPage);break;case"last":t.toggleClass(e.options.disabledClass,s.currentPage===e.options.totalPages);break;case"prev":t.toggleClass(e.options.disabledClass,!e.options.loop&&1===s.currentPage);break;case"next":t.toggleClass(e.options.disabledClass,!e.options.loop&&s.currentPage===e.options.totalPages)}})},setupEvents:function(){var e=this;this.$listContainer.off("click").on("click","li",function(t){var s=o(this);if(s.hasClass(e.options.disabledClass)||s.hasClass(e.options.activeClass))return!1;!e.options.href&&t.preventDefault(),e.show(parseInt(s.data("page")))})},changeTotalPages:function(t,s){return this.options.totalPages=t,this.show(s)},makeHref:function(t){return this.options.href?this.generateQueryString(t):"#"},makeText:function(t,s){return t.replace(this.options.pageVariable,s).replace(this.options.totalPagesVariable,this.options.totalPages)},getPageFromQueryString:function(t){var s=this.getSearchString(t),e=new RegExp(this.options.pageVariable+"(=([^&#]*)|&|#|$)").exec(s);return e&&e[2]?(e=decodeURIComponent(e[2]),e=parseInt(e),isNaN(e)?null:e):null},generateQueryString:function(t,s){var e=this.getSearchString(s),i=new RegExp(this.options.pageVariable+"=*[^&#]*");return e?"?"+e.replace(i,this.options.pageVariable+"="+t):""},getSearchString:function(t){var s=t||e.location.search;return""===s?null:(0===s.indexOf("?")&&(s=s.substr(1)),s)},getCurrentPage:function(){return this.currentPage},getTotalPages:function(){return this.options.totalPages}},o.fn.twbsPagination=function(t){var s,e=Array.prototype.slice.call(arguments,1),i=o(this),a=i.data("twbs-pagination"),n="object"==typeof t?t:{};return a||i.data("twbs-pagination",a=new r(this,n)),"string"==typeof t&&(s=a[t].apply(a,e)),void 0===s?i:s},o.fn.twbsPagination.defaults={totalPages:1,startPage:1,visiblePages:5,initiateStartPageClick:!0,hideOnlyOnePage:!1,href:!1,pageVariable:"{{page}}",totalPagesVariable:"{{total_pages}}",page:null,first:"First",prev:"Previous",next:"Next",last:"Last",loop:!1,beforePageClick:null,onPageClick:null,paginationClass:"pagination",nextClass:"page-item next",prevClass:"page-item prev",lastClass:"page-item last",firstClass:"page-item first",pageClass:"page-item",activeClass:"active",disabledClass:"disabled",anchorClass:"page-link"},o.fn.twbsPagination.Constructor=r,o.fn.twbsPagination.noConflict=function(){return o.fn.twbsPagination=i,this},o.fn.twbsPagination.version="1.4.2"}(window.jQuery,window,document);;!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return sd.apply(null,arguments)}function b(a){sd=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function e(a){var b;for(b in a)return!1;return!0}function f(a){return void 0===a}function g(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function h(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function i(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function j(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function k(a,b){for(var c in b)j(b,c)&&(a[c]=b[c]);return j(b,"toString")&&(a.toString=b.toString),j(b,"valueOf")&&(a.valueOf=b.valueOf),a}function l(a,b,c,d){return sb(a,b,c,d,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function n(a){return null==a._pf&&(a._pf=m()),a._pf}function o(a){if(null==a._isValid){var b=n(a),c=ud.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function p(a){var b=l(NaN);return null!=a?k(n(b),a):n(b).userInvalidated=!0,b}function q(a,b){var c,d,e;if(f(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),f(b._i)||(a._i=b._i),f(b._f)||(a._f=b._f),f(b._l)||(a._l=b._l),f(b._strict)||(a._strict=b._strict),f(b._tzm)||(a._tzm=b._tzm),f(b._isUTC)||(a._isUTC=b._isUTC),f(b._offset)||(a._offset=b._offset),f(b._pf)||(a._pf=n(b)),f(b._locale)||(a._locale=b._locale),vd.length>0)for(c=0;c<vd.length;c++)d=vd[c],e=b[d],f(e)||(a[d]=e);return a}function r(b){q(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),wd===!1&&(wd=!0,a.updateOffset(this),wd=!1)}function s(a){return a instanceof r||null!=a&&null!=a._isAMomentObject}function t(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=t(b)),c}function v(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function w(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function x(b,c){var d=!0;return k(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}w(b+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function y(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),xd[b]||(w(c),xd[b]=!0)}function z(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function A(a){var b,c;for(c in a)b=a[c],z(b)?this[c]=b:this["_"+c]=b;this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function B(a,b){var c,e=k({},a);for(c in b)j(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},k(e[c],a[c]),k(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)j(a,c)&&!j(b,c)&&d(a[c])&&(e[c]=k({},e[c]));return e}function C(a){null!=a&&this.set(a)}function D(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return z(d)?d.call(b,c):d}function E(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function F(){return this._invalidDate}function G(a){return this._ordinal.replace("%d",a)}function H(a,b,c,d){var e=this._relativeTime[c];return z(e)?e(a,b,c,d):e.replace(/%d/i,a)}function I(a,b){var c=this._relativeTime[a>0?"future":"past"];return z(c)?c(b):c.replace(/%s/i,b)}function J(a,b){var c=a.toLowerCase();Hd[c]=Hd[c+"s"]=Hd[b]=a}function K(a){return"string"==typeof a?Hd[a]||Hd[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)j(a,c)&&(b=K(c),b&&(d[b]=a[c]));return d}function M(a,b){Id[a]=b}function N(a){var b=[];for(var c in a)b.push({unit:c,priority:Id[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function O(b,c){return function(d){return null!=d?(Q(this,b,d),a.updateOffset(this,c),this):P(this,b)}}function P(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function Q(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function R(a){return a=K(a),z(this[a])?this[a]():this}function S(a,b){if("object"==typeof a){a=L(a);for(var c=N(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=K(a),z(this[a]))return this[a](b);return this}function T(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function U(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Md[a]=e),b&&(Md[b[0]]=function(){return T(e.apply(this,arguments),b[1],b[2])}),c&&(Md[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function V(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function W(a){var b,c,d=a.match(Jd);for(b=0,c=d.length;b<c;b++)Md[d[b]]?d[b]=Md[d[b]]:d[b]=V(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=z(d[e])?d[e].call(b,a):d[e];return f}}function X(a,b){return a.isValid()?(b=Y(b,a.localeData()),Ld[b]=Ld[b]||W(b),Ld[b](a)):a.localeData().invalidDate()}function Y(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kd.lastIndex=0;d>=0&&Kd.test(a);)a=a.replace(Kd,c),Kd.lastIndex=0,d-=1;return a}function Z(a,b,c){ce[a]=z(b)?b:function(a,d){return a&&c?c:b}}function $(a,b){return j(ce,a)?ce[a](b._strict,b._locale):new RegExp(_(a))}function _(a){return aa(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function aa(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ba(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),g(b)&&(d=function(a,c){c[b]=u(a)}),c=0;c<a.length;c++)de[a[c]]=d}function ca(a,b){ba(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function da(a,b,c){null!=b&&j(de,a)&&de[a](b,c._a,c,a)}function ea(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function fa(a,b){return a?c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||oe).test(b)?"format":"standalone"][a.month()]:c(this._months)?this._months:this._months.standalone}function ga(a,b){return a?c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[oe.test(b)?"format":"standalone"][a.month()]:c(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ha(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=l([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=ne.call(this._shortMonthsParse,g),e!==-1?e:null):(e=ne.call(this._longMonthsParse,g),e!==-1?e:null):"MMM"===b?(e=ne.call(this._shortMonthsParse,g),e!==-1?e:(e=ne.call(this._longMonthsParse,g),e!==-1?e:null)):(e=ne.call(this._longMonthsParse,g),e!==-1?e:(e=ne.call(this._shortMonthsParse,g),e!==-1?e:null))}function ia(a,b,c){var d,e,f;if(this._monthsParseExact)return ha.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=l([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ja(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=u(b);else if(b=a.localeData().monthsParse(b),!g(b))return a;return c=Math.min(a.date(),ea(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ka(b){return null!=b?(ja(this,b),a.updateOffset(this,!0),this):P(this,"Month")}function la(){return ea(this.year(),this.month())}function ma(a){return this._monthsParseExact?(j(this,"_monthsRegex")||oa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(j(this,"_monthsShortRegex")||(this._monthsShortRegex=re),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function na(a){return this._monthsParseExact?(j(this,"_monthsRegex")||oa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(j(this,"_monthsRegex")||(this._monthsRegex=se),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function oa(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=l([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=aa(d[b]),e[b]=aa(e[b]);for(b=0;b<24;b++)f[b]=aa(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function pa(a){return qa(a)?366:365}function qa(a){return a%4===0&&a%100!==0||a%400===0}function ra(){return qa(this.year())}function sa(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ta(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ua(a,b,c){var d=7+b-c,e=(7+ta(a,0,d).getUTCDay()-b)%7;return-e+d-1}function va(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ua(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=pa(f)+j):j>pa(a)?(f=a+1,g=j-pa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function wa(a,b,c){var d,e,f=ua(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+xa(e,b,c)):g>xa(a.year(),b,c)?(d=g-xa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function xa(a,b,c){var d=ua(a,b,c),e=ua(a+1,b,c);return(pa(a)-d+e)/7}function ya(a){return wa(a,this._week.dow,this._week.doy).week}function za(){return this._week.dow}function Aa(){return this._week.doy}function Ba(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ca(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Da(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Ea(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Fa(a,b){return a?c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:c(this._weekdays)?this._weekdays:this._weekdays.standalone}function Ga(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ha(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ia(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=l([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=ne.call(this._weekdaysParse,g),e!==-1?e:null):"ddd"===b?(e=ne.call(this._shortWeekdaysParse,g),e!==-1?e:null):(e=ne.call(this._minWeekdaysParse,g),e!==-1?e:null):"dddd"===b?(e=ne.call(this._weekdaysParse,g),e!==-1?e:(e=ne.call(this._shortWeekdaysParse,g),e!==-1?e:(e=ne.call(this._minWeekdaysParse,g),e!==-1?e:null))):"ddd"===b?(e=ne.call(this._shortWeekdaysParse,g),e!==-1?e:(e=ne.call(this._weekdaysParse,g),e!==-1?e:(e=ne.call(this._minWeekdaysParse,g),e!==-1?e:null))):(e=ne.call(this._minWeekdaysParse,g),e!==-1?e:(e=ne.call(this._weekdaysParse,g),e!==-1?e:(e=ne.call(this._shortWeekdaysParse,g),e!==-1?e:null)))}function Ja(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ia.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=l([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ka(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Da(a,this.localeData()),this.add(a-b,"d")):b}function La(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ma(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Ea(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Na(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(j(this,"_weekdaysRegex")||(this._weekdaysRegex=ye),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Oa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(j(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Pa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(j(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ae),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;b<7;b++)c=l([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;b<7;b++)h[b]=aa(h[b]),i[b]=aa(i[b]),j[b]=aa(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ra(){return this.hours()%12||12}function Sa(){return this.hours()||24}function Ta(a,b){U(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Ua(a,b){return b._meridiemParse}function Va(a){return"p"===(a+"").toLowerCase().charAt(0)}function Wa(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Xa(a){return a?a.toLowerCase().replace("_","-"):a}function Ya(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Xa(a[f]).split("-"),b=e.length,c=Xa(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=Za(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&v(e,c,!0)>=b-1)break;b--}f++}return null}function Za(a){var b=null;if(!Fe[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Be._abbr,require("./locale/"+a),$a(b)}catch(a){}return Fe[a]}function $a(a,b){var c;return a&&(c=f(b)?bb(a):_a(a,b),c&&(Be=c)),Be._abbr}function _a(a,b){if(null!==b){var c=Ee;if(b.abbr=a,null!=Fe[a])y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=Fe[a]._config;else if(null!=b.parentLocale){if(null==Fe[b.parentLocale])return Ge[b.parentLocale]||(Ge[b.parentLocale]=[]),Ge[b.parentLocale].push({name:a,config:b}),null;c=Fe[b.parentLocale]._config}return Fe[a]=new C(B(c,b)),Ge[a]&&Ge[a].forEach(function(a){_a(a.name,a.config)}),$a(a),Fe[a]}return delete Fe[a],null}function ab(a,b){if(null!=b){var c,d=Ee;null!=Fe[a]&&(d=Fe[a]._config),b=B(d,b),c=new C(b),c.parentLocale=Fe[a],Fe[a]=c,$a(a)}else null!=Fe[a]&&(null!=Fe[a].parentLocale?Fe[a]=Fe[a].parentLocale:null!=Fe[a]&&delete Fe[a]);return Fe[a]}function bb(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Be;if(!c(a)){if(b=Za(a))return b;a=[a]}return Ya(a)}function cb(){return Ad(Fe)}function db(a){var b,c=a._a;return c&&n(a).overflow===-2&&(b=c[fe]<0||c[fe]>11?fe:c[ge]<1||c[ge]>ea(c[ee],c[fe])?ge:c[he]<0||c[he]>24||24===c[he]&&(0!==c[ie]||0!==c[je]||0!==c[ke])?he:c[ie]<0||c[ie]>59?ie:c[je]<0||c[je]>59?je:c[ke]<0||c[ke]>999?ke:-1,n(a)._overflowDayOfYear&&(b<ee||b>ge)&&(b=ge),n(a)._overflowWeeks&&b===-1&&(b=le),n(a)._overflowWeekday&&b===-1&&(b=me),n(a).overflow=b),a}function eb(a){var b,c,d,e,f,g,h=a._i,i=He.exec(h)||Ie.exec(h);if(i){for(n(a).iso=!0,b=0,c=Ke.length;b<c;b++)if(Ke[b][1].exec(i[1])){e=Ke[b][0],d=Ke[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Le.length;b<c;b++)if(Le[b][1].exec(i[3])){f=(i[2]||" ")+Le[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Je.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),lb(a)}else a._isValid=!1}function fb(a){var b,c,d,e,f,g,h,i,j={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},k="YXWVUTSRQPONZABCDEFGHIKLM";if(b=a._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),c=Ne.exec(b)){if(d=c[1]?"ddd"+(5===c[1].length?", ":" "):"",e="D MMM "+(c[2].length>10?"YYYY ":"YY "),f="HH:mm"+(c[4]?":ss":""),c[1]){var l=new Date(c[2]),m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][l.getDay()];if(c[1].substr(0,3)!==m)return n(a).weekdayMismatch=!0,void(a._isValid=!1)}switch(c[5].length){case 2:0===i?h=" +0000":(i=k.indexOf(c[5][1].toUpperCase())-12,h=(i<0?" -":" +")+(""+i).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:h=j[c[5]];break;default:h=j[" GMT"]}c[5]=h,a._i=c.splice(1).join(""),g=" ZZ",a._f=d+e+f+g,lb(a),n(a).rfc2822=!0}else a._isValid=!1}function gb(b){var c=Me.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(eb(b),void(b._isValid===!1&&(delete b._isValid,fb(b),b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b)))))}function hb(a,b,c){return null!=a?a:null!=b?b:c}function ib(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function jb(a){var b,c,d,e,f=[];if(!a._d){for(d=ib(a),a._w&&null==a._a[ge]&&null==a._a[fe]&&kb(a),null!=a._dayOfYear&&(e=hb(a._a[ee],d[ee]),(a._dayOfYear>pa(e)||0===a._dayOfYear)&&(n(a)._overflowDayOfYear=!0),c=ta(e,0,a._dayOfYear),a._a[fe]=c.getUTCMonth(),a._a[ge]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[he]&&0===a._a[ie]&&0===a._a[je]&&0===a._a[ke]&&(a._nextDay=!0,a._a[he]=0),a._d=(a._useUTC?ta:sa).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[he]=24)}}function kb(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,c=hb(b.GG,a._a[ee],wa(tb(),1,4).year),d=hb(b.W,1),e=hb(b.E,1),(e<1||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=wa(tb(),f,g);c=hb(b.gg,a._a[ee],j.year),d=hb(b.w,j.week),null!=b.d?(e=b.d,(e<0||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f}d<1||d>xa(c,f,g)?n(a)._overflowWeeks=!0:null!=i?n(a)._overflowWeekday=!0:(h=va(c,d,e,f,g),a._a[ee]=h.year,a._dayOfYear=h.dayOfYear)}function lb(b){if(b._f===a.ISO_8601)return void eb(b);if(b._f===a.RFC_2822)return void fb(b);b._a=[],n(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=Y(b._f,b._locale).match(Jd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match($(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&n(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Md[f]?(d?n(b).empty=!1:n(b).unusedTokens.push(f),da(f,d,b)):b._strict&&!d&&n(b).unusedTokens.push(f);n(b).charsLeftOver=i-j,h.length>0&&n(b).unusedInput.push(h),b._a[he]<=12&&n(b).bigHour===!0&&b._a[he]>0&&(n(b).bigHour=void 0),n(b).parsedDateParts=b._a.slice(0),n(b).meridiem=b._meridiem,b._a[he]=mb(b._locale,b._a[he],b._meridiem),jb(b),db(b)}function mb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function nb(a){var b,c,d,e,f;if(0===a._f.length)return n(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=q({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],lb(b),o(b)&&(f+=n(b).charsLeftOver,f+=10*n(b).unusedTokens.length,n(b).score=f,(null==d||f<d)&&(d=f,c=b));k(a,c||b)}function ob(a){if(!a._d){var b=L(a._i);a._a=i([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),jb(a)}}function pb(a){var b=new r(db(qb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function qb(a){var b=a._i,d=a._f;return a._locale=a._locale||bb(a._l),null===b||void 0===d&&""===b?p({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),s(b)?new r(db(b)):(h(b)?a._d=b:c(d)?nb(a):d?lb(a):rb(a),o(a)||(a._d=null),a))}function rb(b){var e=b._i;f(e)?b._d=new Date(a.now()):h(e)?b._d=new Date(e.valueOf()):"string"==typeof e?gb(b):c(e)?(b._a=i(e.slice(0),function(a){return parseInt(a,10)}),jb(b)):d(e)?ob(b):g(e)?b._d=new Date(e):a.createFromInputFallback(b)}function sb(a,b,f,g,h){var i={};return f!==!0&&f!==!1||(g=f,f=void 0),(d(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,pb(i)}function tb(a,b,c,d){return sb(a,b,c,d,!1)}function ub(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return tb();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}function vb(){var a=[].slice.call(arguments,0);return ub("isBefore",a)}function wb(){var a=[].slice.call(arguments,0);return ub("isAfter",a)}function xb(a){for(var b in a)if(Re.indexOf(b)===-1||null!=a[b]&&isNaN(a[b]))return!1;for(var c=!1,d=0;d<Re.length;++d)if(a[Re[d]]){if(c)return!1;parseFloat(a[Re[d]])!==u(a[Re[d]])&&(c=!0)}return!0}function yb(){return this._isValid}function zb(){return Sb(NaN)}function Ab(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._isValid=xb(b),this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=bb(),this._bubble()}function Bb(a){return a instanceof Ab}function Cb(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function Db(a,b){U(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+T(~~(a/60),2)+b+T(~~a%60,2)})}function Eb(a,b){var c=(b||"").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+"").match(Se)||["-",0,0],f=+(60*e[1])+u(e[2]);return 0===f?0:"+"===e[0]?f:-f}function Fb(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(s(b)||h(b)?b.valueOf():tb(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):tb(b).local()}function Gb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Hb(b,c,d){var e,f=this._offset||0;if(!this.isValid())return null!=b?this:NaN;if(null!=b){if("string"==typeof b){if(b=Eb(_d,b),null===b)return this}else Math.abs(b)<16&&!d&&(b=60*b);return!this._isUTC&&c&&(e=Gb(this)),this._offset=b,this._isUTC=!0,null!=e&&this.add(e,"m"),f!==b&&(!c||this._changeInProgress?Xb(this,Sb(b-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?f:Gb(this)}function Ib(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Jb(a){return this.utcOffset(0,a)}function Kb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Gb(this),"m")),this}function Lb(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var a=Eb($d,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function Mb(a){return!!this.isValid()&&(a=a?tb(a).utcOffset():0,(this.utcOffset()-a)%60===0)}function Nb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ob(){if(!f(this._isDSTShifted))return this._isDSTShifted;var a={};if(q(a,this),a=qb(a),a._a){var b=a._isUTC?l(a._a):tb(a._a);this._isDSTShifted=this.isValid()&&v(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Pb(){return!!this.isValid()&&!this._isUTC}function Qb(){return!!this.isValid()&&this._isUTC}function Rb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Sb(a,b){var c,d,e,f=a,h=null;return Bb(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:g(a)?(f={},b?f[b]=a:f.milliseconds=a):(h=Te.exec(a))?(c="-"===h[1]?-1:1,f={y:0,d:u(h[ge])*c,h:u(h[he])*c,m:u(h[ie])*c,s:u(h[je])*c,ms:u(Cb(1e3*h[ke]))*c}):(h=Ue.exec(a))?(c="-"===h[1]?-1:1,f={y:Tb(h[2],c),M:Tb(h[3],c),w:Tb(h[4],c),d:Tb(h[5],c),h:Tb(h[6],c),m:Tb(h[7],c),s:Tb(h[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=Vb(tb(f.from),tb(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new Ab(f),Bb(a)&&j(a,"_locale")&&(d._locale=a._locale),d}function Tb(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Ub(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Vb(a,b){var c;return a.isValid()&&b.isValid()?(b=Fb(b,a),a.isBefore(b)?c=Ub(a,b):(c=Ub(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Wb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(y(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Sb(c,d),Xb(this,e,a),this}}function Xb(b,c,d,e){var f=c._milliseconds,g=Cb(c._days),h=Cb(c._months);b.isValid()&&(e=null==e||e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&Q(b,"Date",P(b,"Date")+g*d),h&&ja(b,P(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function Yb(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Zb(b,c){var d=b||tb(),e=Fb(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(z(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,tb(d)))}function $b(){return new r(this)}function _b(a,b){var c=s(a)?a:tb(a);return!(!this.isValid()||!c.isValid())&&(b=K(f(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function ac(a,b){var c=s(a)?a:tb(a);return!(!this.isValid()||!c.isValid())&&(b=K(f(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function bc(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function cc(a,b){var c,d=s(a)?a:tb(a);return!(!this.isValid()||!d.isValid())&&(b=K(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function dc(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function ec(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function fc(a,b,c){var d,e,f,g;return this.isValid()?(d=Fb(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b),"year"===b||"month"===b||"quarter"===b?(g=gc(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:t(g)):NaN):NaN}function gc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function hc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ic(){if(!this.isValid())return null;var a=this.clone().utc();return a.year()<0||a.year()>9999?X(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(Date.prototype.toISOString)?this.toDate().toISOString():X(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function jc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",e="-MM-DD[T]HH:mm:ss.SSS",f=b+'[")]';return this.format(c+d+e+f)}function kc(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=X(this,b);return this.localeData().postformat(c)}function lc(a,b){return this.isValid()&&(s(a)&&a.isValid()||tb(a).isValid())?Sb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mc(a){return this.from(tb(),a)}function nc(a,b){return this.isValid()&&(s(a)&&a.isValid()||tb(a).isValid())?Sb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function oc(a){return this.to(tb(),a)}function pc(a){var b;return void 0===a?this._locale._abbr:(b=bb(a),null!=b&&(this._locale=b),this)}function qc(){return this._locale}function rc(a){switch(a=K(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sc(a){return a=K(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function tc(){return this._d.valueOf()-6e4*(this._offset||0)}function uc(){return Math.floor(this.valueOf()/1e3)}function vc(){return new Date(this.valueOf())}function wc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function yc(){return this.isValid()?this.toISOString():null}function zc(){return o(this)}function Ac(){return k({},n(this))}function Bc(){return n(this).overflow}function Cc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dc(a,b){U(0,[a,a.length],0,b)}function Ec(a){return Ic.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Fc(a){return Ic.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Gc(){return xa(this.year(),1,4)}function Hc(){var a=this.localeData()._week;return xa(this.year(),a.dow,a.doy)}function Ic(a,b,c,d,e){var f;return null==a?wa(this,d,e).year:(f=xa(a,d,e),b>f&&(b=f),Jc.call(this,a,b,c,d,e))}function Jc(a,b,c,d,e){var f=va(a,b,c,d,e),g=ta(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Kc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Lc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Mc(a,b){b[ke]=u(1e3*("0."+a))}function Nc(){return this._isUTC?"UTC":""}function Oc(){return this._isUTC?"Coordinated Universal Time":""}function Pc(a){return tb(1e3*a)}function Qc(){return tb.apply(null,arguments).parseZone()}function Rc(a){return a}function Sc(a,b,c,d){var e=bb(),f=l().set(d,b);return e[c](f,a)}function Tc(a,b,c){if(g(a)&&(b=a,a=void 0),a=a||"",null!=b)return Sc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Sc(a,d,c,"month");return e}function Uc(a,b,c,d){"boolean"==typeof a?(g(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,g(b)&&(c=b,b=void 0),b=b||"");var e=bb(),f=a?e._week.dow:0;if(null!=c)return Sc(b,(c+f)%7,d,"day");var h,i=[];for(h=0;h<7;h++)i[h]=Sc(b,(h+f)%7,d,"day");return i}function Vc(a,b){return Tc(a,b,"months")}function Wc(a,b){return Tc(a,b,"monthsShort")}function Xc(a,b,c){return Uc(a,b,c,"weekdays")}function Yc(a,b,c){return Uc(a,b,c,"weekdaysShort")}function Zc(a,b,c){return Uc(a,b,c,"weekdaysMin")}function $c(){var a=this._data;return this._milliseconds=df(this._milliseconds),this._days=df(this._days),this._months=df(this._months),a.milliseconds=df(a.milliseconds),a.seconds=df(a.seconds),a.minutes=df(a.minutes),a.hours=df(a.hours),a.months=df(a.months),a.years=df(a.years),this}function _c(a,b,c,d){var e=Sb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function ad(a,b){return _c(this,a,b,1)}function bd(a,b){return _c(this,a,b,-1)}function cd(a){return a<0?Math.floor(a):Math.ceil(a)}function dd(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*cd(fd(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=t(f/1e3),i.seconds=a%60,b=t(a/60),i.minutes=b%60,c=t(b/60),i.hours=c%24,g+=t(c/24),e=t(ed(g)),h+=e,g-=cd(fd(e)),d=t(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function ed(a){return 4800*a/146097}function fd(a){return 146097*a/4800}function gd(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;if(a=K(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+ed(b),"month"===a?c:c/12;switch(b=this._days+Math.round(fd(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function hd(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12):NaN}function id(a){return function(){return this.as(a)}}function jd(a){return a=K(a),this.isValid()?this[a+"s"]():NaN}function kd(a){return function(){return this.isValid()?this._data[a]:NaN}}function ld(){return t(this.days()/7)}function md(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function nd(a,b,c){var d=Sb(a).abs(),e=uf(d.as("s")),f=uf(d.as("m")),g=uf(d.as("h")),h=uf(d.as("d")),i=uf(d.as("M")),j=uf(d.as("y")),k=e<=vf.ss&&["s",e]||e<vf.s&&["ss",e]||f<=1&&["m"]||f<vf.m&&["mm",f]||g<=1&&["h"]||g<vf.h&&["hh",g]||h<=1&&["d"]||h<vf.d&&["dd",h]||i<=1&&["M"]||i<vf.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,md.apply(null,k)}function od(a){return void 0===a?uf:"function"==typeof a&&(uf=a,!0)}function pd(a,b){return void 0!==vf[a]&&(void 0===b?vf[a]:(vf[a]=b,"s"===a&&(vf.ss=b-1),!0))}function qd(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),c=nd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function rd(){if(!this.isValid())return this.localeData().invalidDate();var a,b,c,d=wf(this._milliseconds)/1e3,e=wf(this._days),f=wf(this._months);a=t(d/60),b=t(a/60),d%=60,a%=60,c=t(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var sd,td;td=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var ud=td,vd=a.momentProperties=[],wd=!1,xd={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var yd;yd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)j(a,b)&&c.push(b);return c};var zd,Ad=yd,Bd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Cd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Dd="Invalid date",Ed="%d",Fd=/\d{1,2}/,Gd={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Hd={},Id={},Jd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Kd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ld={},Md={},Nd=/\d/,Od=/\d\d/,Pd=/\d{3}/,Qd=/\d{4}/,Rd=/[+-]?\d{6}/,Sd=/\d\d?/,Td=/\d\d\d\d?/,Ud=/\d\d\d\d\d\d?/,Vd=/\d{1,3}/,Wd=/\d{1,4}/,Xd=/[+-]?\d{1,6}/,Yd=/\d+/,Zd=/[+-]?\d+/,$d=/Z|[+-]\d\d:?\d\d/gi,_d=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[+-]?\d+(\.\d{1,3})?/,be=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ce={},de={},ee=0,fe=1,ge=2,he=3,ie=4,je=5,ke=6,le=7,me=8;zd=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};var ne=zd;U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),U("MMMM",0,0,function(a){return this.localeData().months(this,a)}),J("month","M"),M("month",8),Z("M",Sd),Z("MM",Sd,Od),Z("MMM",function(a,b){return b.monthsShortRegex(a)}),Z("MMMM",function(a,b){return b.monthsRegex(a)}),ba(["M","MM"],function(a,b){b[fe]=u(a)-1}),ba(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[fe]=e:n(c).invalidMonth=a});var oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),re=be,se=be;U("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),J("year","y"),M("year",1),Z("Y",Zd),Z("YY",Sd,Od),Z("YYYY",Wd,Qd),Z("YYYYY",Xd,Rd),Z("YYYYYY",Xd,Rd),ba(["YYYYY","YYYYYY"],ee),ba("YYYY",function(b,c){c[ee]=2===b.length?a.parseTwoDigitYear(b):u(b)}),ba("YY",function(b,c){c[ee]=a.parseTwoDigitYear(b)}),ba("Y",function(a,b){b[ee]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)};var te=O("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),J("week","w"),J("isoWeek","W"),M("week",5),M("isoWeek",5),Z("w",Sd),Z("ww",Sd,Od),Z("W",Sd),Z("WW",Sd,Od),ca(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=u(a)});var ue={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),U("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),U("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),J("day","d"),J("weekday","e"),J("isoWeekday","E"),M("day",11),M("weekday",11),M("isoWeekday",11),Z("d",Sd),Z("e",Sd),Z("E",Sd),Z("dd",function(a,b){return b.weekdaysMinRegex(a)}),Z("ddd",function(a,b){return b.weekdaysShortRegex(a)}),Z("dddd",function(a,b){return b.weekdaysRegex(a)}),ca(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:n(c).invalidWeekday=a}),ca(["d","e","E"],function(a,b,c,d){b[d]=u(a)});var ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),we="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ye=be,ze=be,Ae=be;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Ra),U("k",["kk",2],0,Sa),U("hmm",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)}),Ta("a",!0),Ta("A",!1),J("hour","h"),M("hour",13),Z("a",Ua),Z("A",Ua),Z("H",Sd),Z("h",Sd),Z("k",Sd),Z("HH",Sd,Od),Z("hh",Sd,Od),Z("kk",Sd,Od),Z("hmm",Td),Z("hmmss",Ud),Z("Hmm",Td),Z("Hmmss",Ud),ba(["H","HH"],he),ba(["k","kk"],function(a,b,c){var d=u(a);b[he]=24===d?0:d}),ba(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),ba(["h","hh"],function(a,b,c){b[he]=u(a),n(c).bigHour=!0}),ba("hmm",function(a,b,c){var d=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d)),n(c).bigHour=!0}),ba("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d,2)),b[je]=u(a.substr(e)),n(c).bigHour=!0}),ba("Hmm",function(a,b,c){var d=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d))}),ba("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d,2)),b[je]=u(a.substr(e))});var Be,Ce=/[ap]\.?m?\.?/i,De=O("Hours",!0),Ee={calendar:Bd,longDateFormat:Cd,invalidDate:Dd,ordinal:Ed,dayOfMonthOrdinalParse:Fd,relativeTime:Gd,months:pe,monthsShort:qe,week:ue,weekdays:ve,weekdaysMin:xe,weekdaysShort:we,meridiemParse:Ce},Fe={},Ge={},He=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ie=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Je=/Z|[+-]\d\d(?::?\d\d)?/,Ke=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Le=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Me=/^\/?Date\((\-?\d+)/i,Ne=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;a.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),a.ISO_8601=function(){},a.RFC_2822=function(){};var Oe=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=tb.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:p()}),Pe=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=tb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:p()}),Qe=function(){return Date.now?Date.now():+new Date},Re=["year","quarter","month","week","day","hour","minute","second","millisecond"];Db("Z",":"),Db("ZZ",""),Z("Z",_d),Z("ZZ",_d),ba(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Eb(_d,a)});var Se=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Te=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ue=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Sb.fn=Ab.prototype,Sb.invalid=zb;var Ve=Wb(1,"add"),We=Wb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xe=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dc("gggg","weekYear"),Dc("ggggg","weekYear"),Dc("GGGG","isoWeekYear"),Dc("GGGGG","isoWeekYear"),J("weekYear","gg"),J("isoWeekYear","GG"),M("weekYear",1),M("isoWeekYear",1),Z("G",Zd),Z("g",Zd),Z("GG",Sd,Od),Z("gg",Sd,Od),Z("GGGG",Wd,Qd),Z("gggg",Wd,Qd),Z("GGGGG",Xd,Rd),Z("ggggg",Xd,Rd),ca(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=u(a)}),ca(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),U("Q",0,"Qo","quarter"),J("quarter","Q"),M("quarter",7),Z("Q",Nd),ba("Q",function(a,b){b[fe]=3*(u(a)-1)}),U("D",["DD",2],"Do","date"),J("date","D"),M("date",9),Z("D",Sd),Z("DD",Sd,Od),Z("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient}),ba(["D","DD"],ge),ba("Do",function(a,b){b[ge]=u(a.match(Sd)[0],10)});var Ye=O("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),J("dayOfYear","DDD"),M("dayOfYear",4),Z("DDD",Vd),Z("DDDD",Pd),ba(["DDD","DDDD"],function(a,b,c){c._dayOfYear=u(a)}),U("m",["mm",2],0,"minute"),J("minute","m"),M("minute",14),Z("m",Sd),Z("mm",Sd,Od),ba(["m","mm"],ie);var Ze=O("Minutes",!1);U("s",["ss",2],0,"second"),J("second","s"),M("second",15),Z("s",Sd),Z("ss",Sd,Od),ba(["s","ss"],je);var $e=O("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),J("millisecond","ms"),M("millisecond",16),Z("S",Vd,Nd),Z("SS",Vd,Od),Z("SSS",Vd,Pd);var _e;for(_e="SSSS";_e.length<=9;_e+="S")Z(_e,Yd);for(_e="S";_e.length<=9;_e+="S")ba(_e,Mc);var af=O("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var bf=r.prototype;bf.add=Ve,bf.calendar=Zb,bf.clone=$b,bf.diff=fc,bf.endOf=sc,bf.format=kc,bf.from=lc,bf.fromNow=mc,bf.to=nc,bf.toNow=oc,bf.get=R,bf.invalidAt=Bc,bf.isAfter=_b,bf.isBefore=ac,bf.isBetween=bc,bf.isSame=cc,bf.isSameOrAfter=dc,bf.isSameOrBefore=ec,bf.isValid=zc,bf.lang=Xe,bf.locale=pc,bf.localeData=qc,bf.max=Pe,bf.min=Oe,bf.parsingFlags=Ac,bf.set=S,bf.startOf=rc,bf.subtract=We,bf.toArray=wc,bf.toObject=xc,bf.toDate=vc,bf.toISOString=ic,bf.inspect=jc,bf.toJSON=yc,bf.toString=hc,bf.unix=uc,bf.valueOf=tc,bf.creationData=Cc,bf.year=te,bf.isLeapYear=ra,bf.weekYear=Ec,bf.isoWeekYear=Fc,bf.quarter=bf.quarters=Kc,bf.month=ka,bf.daysInMonth=la,bf.week=bf.weeks=Ba,bf.isoWeek=bf.isoWeeks=Ca,bf.weeksInYear=Hc,bf.isoWeeksInYear=Gc,bf.date=Ye,bf.day=bf.days=Ka,bf.weekday=La,bf.isoWeekday=Ma,bf.dayOfYear=Lc,bf.hour=bf.hours=De,bf.minute=bf.minutes=Ze,bf.second=bf.seconds=$e,bf.millisecond=bf.milliseconds=af,bf.utcOffset=Hb,bf.utc=Jb,bf.local=Kb,bf.parseZone=Lb,bf.hasAlignedHourOffset=Mb,bf.isDST=Nb,bf.isLocal=Pb,bf.isUtcOffset=Qb,bf.isUtc=Rb,bf.isUTC=Rb,bf.zoneAbbr=Nc,bf.zoneName=Oc,bf.dates=x("dates accessor is deprecated. Use date instead.",Ye),bf.months=x("months accessor is deprecated. Use month instead",ka),bf.years=x("years accessor is deprecated. Use year instead",te),bf.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ib),bf.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ob);var cf=C.prototype;cf.calendar=D,cf.longDateFormat=E,cf.invalidDate=F,cf.ordinal=G,cf.preparse=Rc,cf.postformat=Rc,cf.relativeTime=H,cf.pastFuture=I,cf.set=A,cf.months=fa,cf.monthsShort=ga,cf.monthsParse=ia,cf.monthsRegex=na,cf.monthsShortRegex=ma,cf.week=ya,cf.firstDayOfYear=Aa,cf.firstDayOfWeek=za,cf.weekdays=Fa,cf.weekdaysMin=Ha,cf.weekdaysShort=Ga,cf.weekdaysParse=Ja,cf.weekdaysRegex=Na,cf.weekdaysShortRegex=Oa,cf.weekdaysMinRegex=Pa,cf.isPM=Va,cf.meridiem=Wa,$a("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=x("moment.lang is deprecated. Use moment.locale instead.",$a),a.langData=x("moment.langData is deprecated. Use moment.localeData instead.",bb);var df=Math.abs,ef=id("ms"),ff=id("s"),gf=id("m"),hf=id("h"),jf=id("d"),kf=id("w"),lf=id("M"),mf=id("y"),nf=kd("milliseconds"),of=kd("seconds"),pf=kd("minutes"),qf=kd("hours"),rf=kd("days"),sf=kd("months"),tf=kd("years"),uf=Math.round,vf={ss:44,s:45,m:45,h:22,d:26,M:11},wf=Math.abs,xf=Ab.prototype;return xf.isValid=yb,xf.abs=$c,xf.add=ad,xf.subtract=bd,xf.as=gd,xf.asMilliseconds=ef,xf.asSeconds=ff,xf.asMinutes=gf,xf.asHours=hf,xf.asDays=jf,xf.asWeeks=kf,xf.asMonths=lf,xf.asYears=mf,xf.valueOf=hd,xf._bubble=dd,xf.get=jd,xf.milliseconds=nf,xf.seconds=of,xf.minutes=pf,xf.hours=qf,xf.days=rf,xf.weeks=ld,xf.months=sf,xf.years=tf,xf.humanize=qd,xf.toISOString=rd,xf.toString=rd,xf.toJSON=rd,xf.locale=pc,xf.localeData=qc,xf.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rd),xf.lang=Xe,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Z("x",Zd),Z("X",ae),ba("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),ba("x",function(a,b,c){c._d=new Date(u(a))}),a.version="2.18.1",b(tb),a.fn=bf,a.min=vb,a.max=wb,a.now=Qe,a.utc=l,a.unix=Pc,a.months=Vc,a.isDate=h,a.locale=$a,a.invalid=p,a.duration=Sb,a.isMoment=s,a.weekdays=Xc,a.parseZone=Qc,a.localeData=bb,a.isDuration=Bb,a.monthsShort=Wc,a.weekdaysMin=Zc,a.defineLocale=_a,a.updateLocale=ab,a.locales=cb,a.weekdaysShort=Yc,a.normalizeUnits=K,a.relativeTimeRounding=od,a.relativeTimeThreshold=pd,a.calendarFormat=Yb,a.prototype=bf,a});(function(g,j){var b=function(a){return new i(a)};b.version="0.1.3";var c=g.fxSetup||{rates:{},base:""};b.rates=c.rates;b.base=c.base;b.settings={from:c.from||b.base,to:c.to||b.base};var h=b.convert=function(a,e){if("object"===typeof a&&a.length){for(var d=0;d<a.length;d++)a[d]=h(a[d],e);return a}e=e||{};if(!e.from)e.from=b.settings.from;if(!e.to)e.to=b.settings.to;var d=e.to,c=e.from,f=b.rates;f[b.base]=1;if(!f[d]||!f[c])throw"fx error";d=c===b.base?f[d]:d===b.base?1/f[c]:f[d]*(1/f[c]);return a*d},i=function(a){"string"===typeof a?(this._v=parseFloat(a.replace(/[^0-9-.]/g,"")),this._fx=a.replace(/([^A-Za-z])/g,"")):this._v=a},c=b.prototype=i.prototype;c.convert=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this._v);return h.apply(b,a)};c.from=function(a){a=b(h(this._v,{from:a,to:b.base}));a._fx=b.base;return a};c.to=function(a){return h(this._v,{from:this._fx?this._fx:b.settings.from,to:a})};if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports)exports=module.exports=b;exports.fx=fx}else"function"===typeof define&&define.amd?define([],function(){return b}):(b.noConflict=function(a){return function(){g.fx=a;b.noConflict=j;return b}}(g.fx),g.fx=b)})(this);!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof module&&module.exports?module.exports=b():a.numeral=b()}(this,function(){function a(a,b){this._input=a,this._value=b}var b,c,d="2.0.6",e={},f={},g={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:g.currentLocale,zeroFormat:g.zeroFormat,nullFormat:g.nullFormat,defaultFormat:g.defaultFormat,scalePercentBy100:g.scalePercentBy100};return b=function(d){var f,g,i,j;if(b.isNumeral(d))f=d.value();else if(0===d||"undefined"==typeof d)f=0;else if(null===d||c.isNaN(d))f=null;else if("string"==typeof d)if(h.zeroFormat&&d===h.zeroFormat)f=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)f=null;else{for(g in e)if(j="function"==typeof e[g].regexps.unformat?e[g].regexps.unformat():e[g].regexps.unformat,j&&d.match(j)){i=e[g].unformat;break}i=i||b._.stringToNumber,f=i(d)}else f=Number(d)||null;return new a(d,f)},b.version=d,b.isNumeral=function(b){return b instanceof a},b._=c={numberToFormat:function(a,c,d){var e,g,h,i,j,k,l,m=f[b.options.currentLocale],n=!1,o=!1,p=0,q="",r=1e12,s=1e9,t=1e6,u=1e3,v="",w=!1;if(a=a||0,g=Math.abs(a),b._.includes(c,"(")?(n=!0,c=c.replace(/[\(|\)]/g,"")):(b._.includes(c,"+")||b._.includes(c,"-"))&&(j=b._.includes(c,"+")?c.indexOf("+"):0>a?c.indexOf("-"):-1,c=c.replace(/[\+|\-]/g,"")),b._.includes(c,"a")&&(e=c.match(/a(k|m|b|t)?/),e=e?e[1]:!1,b._.includes(c," a")&&(q=" "),c=c.replace(new RegExp(q+"a[kmbt]?"),""),g>=r&&!e||"t"===e?(q+=m.abbreviations.trillion,a/=r):r>g&&g>=s&&!e||"b"===e?(q+=m.abbreviations.billion,a/=s):s>g&&g>=t&&!e||"m"===e?(q+=m.abbreviations.million,a/=t):(t>g&&g>=u&&!e||"k"===e)&&(q+=m.abbreviations.thousand,a/=u)),b._.includes(c,"[.]")&&(o=!0,c=c.replace("[.]",".")),h=a.toString().split(".")[0],i=c.split(".")[1],k=c.indexOf(","),p=(c.split(".")[0].split(",")[0].match(/0/g)||[]).length,i?(b._.includes(i,"[")?(i=i.replace("]",""),i=i.split("["),v=b._.toFixed(a,i[0].length+i[1].length,d,i[1].length)):v=b._.toFixed(a,i.length,d),h=v.split(".")[0],v=b._.includes(v,".")?m.delimiters.decimal+v.split(".")[1]:"",o&&0===Number(v.slice(1))&&(v="")):h=b._.toFixed(a,0,d),q&&!e&&Number(h)>=1e3&&q!==m.abbreviations.trillion)switch(h=String(Number(h)/1e3),q){case m.abbreviations.thousand:q=m.abbreviations.million;break;case m.abbreviations.million:q=m.abbreviations.billion;break;case m.abbreviations.billion:q=m.abbreviations.trillion}if(b._.includes(h,"-")&&(h=h.slice(1),w=!0),h.length<p)for(var x=p-h.length;x>0;x--)h="0"+h;return k>-1&&(h=h.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m.delimiters.thousands)),0===c.indexOf(".")&&(h=""),l=h+v+(q?q:""),n?l=(n&&w?"(":"")+l+(n&&w?")":""):j>=0?l=0===j?(w?"-":"+")+l:l+(w?"-":"+"):w&&(l="-"+l),l},stringToNumber:function(a){var b,c,d,e=f[h.currentLocale],g=a,i={thousand:3,million:6,billion:9,trillion:12};if(h.zeroFormat&&a===h.zeroFormat)c=0;else if(h.nullFormat&&a===h.nullFormat||!a.replace(/[^0-9]+/g,"").length)c=null;else{c=1,"."!==e.delimiters.decimal&&(a=a.replace(/\./g,"").replace(e.delimiters.decimal,"."));for(b in i)if(d=new RegExp("[^a-zA-Z]"+e.abbreviations[b]+"(?:\\)|(\\"+e.currency.symbol+")?(?:\\))?)?$"),g.match(d)){c*=Math.pow(10,i[b]);break}c*=(a.split("-").length+Math.min(a.split("(").length-1,a.split(")").length-1))%2?1:-1,a=a.replace(/[^0-9\.]+/g,""),c*=Number(a)}return c},isNaN:function(a){return"number"==typeof a&&isNaN(a)},includes:function(a,b){return-1!==a.indexOf(b)},insert:function(a,b,c){return a.slice(0,c)+b+a.slice(c)},reduce:function(a,b){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof b)throw new TypeError(b+" is not a function");var c,d=Object(a),e=d.length>>>0,f=0;if(3===arguments.length)c=arguments[2];else{for(;e>f&&!(f in d);)f++;if(f>=e)throw new TypeError("Reduce of empty array with no initial value");c=d[f++]}for(;e>f;f++)f in d&&(c=b(c,d[f],f,d));return c},multiplier:function(a){var b=a.toString().split(".");return b.length<2?1:Math.pow(10,b[1].length)},correctionFactor:function(){var a=Array.prototype.slice.call(arguments);return a.reduce(function(a,b){var d=c.multiplier(b);return a>d?a:d},1)},toFixed:function(a,b,c,d){var e,f,g,h,i=a.toString().split("."),j=b-(d||0);return e=2===i.length?Math.min(Math.max(i[1].length,j),b):j,g=Math.pow(10,e),h=(c(a+"e+"+e)/g).toFixed(e),d>b-e&&(f=new RegExp("\\.?0{1,"+(d-(b-e))+"}$"),h=h.replace(f,"")),h}},b.options=h,b.formats=e,b.locales=f,b.locale=function(a){return a&&(h.currentLocale=a.toLowerCase()),h.currentLocale},b.localeData=function(a){if(!a)return f[h.currentLocale];if(a=a.toLowerCase(),!f[a])throw new Error("Unknown locale : "+a);return f[a]},b.reset=function(){for(var a in g)h[a]=g[a]},b.zeroFormat=function(a){h.zeroFormat="string"==typeof a?a:null},b.nullFormat=function(a){h.nullFormat="string"==typeof a?a:null},b.defaultFormat=function(a){h.defaultFormat="string"==typeof a?a:"0.0"},b.register=function(a,b,c){if(b=b.toLowerCase(),this[a+"s"][b])throw new TypeError(b+" "+a+" already registered.");return this[a+"s"][b]=c,c},b.validate=function(a,c){var d,e,f,g,h,i,j,k;if("string"!=typeof a&&(a+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",a)),a=a.trim(),a.match(/^\d+$/))return!0;if(""===a)return!1;try{j=b.localeData(c)}catch(l){j=b.localeData(b.locale())}return f=j.currency.symbol,h=j.abbreviations,d=j.delimiters.decimal,e="."===j.delimiters.thousands?"\\.":j.delimiters.thousands,k=a.match(/^[^\d]+/),null!==k&&(a=a.substr(1),k[0]!==f)?!1:(k=a.match(/[^\d]+$/),null!==k&&(a=a.slice(0,-1),k[0]!==h.thousand&&k[0]!==h.million&&k[0]!==h.billion&&k[0]!==h.trillion)?!1:(i=new RegExp(e+"{2}"),a.match(/[^\d.,]/g)?!1:(g=a.split(d),g.length>2?!1:g.length<2?!!g[0].match(/^\d+.*\d$/)&&!g[0].match(i):1===g[0].length?!!g[0].match(/^\d+$/)&&!g[0].match(i)&&!!g[1].match(/^\d+$/):!!g[0].match(/^\d+.*\d$/)&&!g[0].match(i)&&!!g[1].match(/^\d+$/))))},b.fn=a.prototype={clone:function(){return b(this)},format:function(a,c){var d,f,g,i=this._value,j=a||h.defaultFormat;if(c=c||Math.round,0===i&&null!==h.zeroFormat)f=h.zeroFormat;else if(null===i&&null!==h.nullFormat)f=h.nullFormat;else{for(d in e)if(j.match(e[d].regexps.format)){g=e[d].format;break}g=g||b._.numberToFormat,f=g(i,j,c)}return f},value:function(){return this._value},input:function(){return this._input},set:function(a){return this._value=Number(a),this},add:function(a){function b(a,b,c,e){return a+Math.round(d*b)}var d=c.correctionFactor.call(null,this._value,a);return this._value=c.reduce([this._value,a],b,0)/d,this},subtract:function(a){function b(a,b,c,e){return a-Math.round(d*b)}var d=c.correctionFactor.call(null,this._value,a);return this._value=c.reduce([a],b,Math.round(this._value*d))/d,this},multiply:function(a){function b(a,b,d,e){var f=c.correctionFactor(a,b);return Math.round(a*f)*Math.round(b*f)/Math.round(f*f)}return this._value=c.reduce([this._value,a],b,1),this},divide:function(a){function b(a,b,d,e){var f=c.correctionFactor(a,b);return Math.round(a*f)/Math.round(b*f)}return this._value=c.reduce([this._value,a],b),this},difference:function(a){return Math.abs(b(this._value).subtract(a).value())}},b.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}),function(){b.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(a,c,d){var e,f=b._.includes(c," BPS")?" ":"";return a=1e4*a,c=c.replace(/\s?BPS/,""),e=b._.numberToFormat(a,c,d),b._.includes(e,")")?(e=e.split(""),e.splice(-1,0,f+"BPS"),e=e.join("")):e=e+f+"BPS",e},unformat:function(a){return+(1e-4*b._.stringToNumber(a)).toFixed(15)}})}(),function(){var a={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},c={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},d=a.suffixes.concat(c.suffixes.filter(function(b){return a.suffixes.indexOf(b)<0})),e=d.join("|");e="("+e.replace("B","B(?!PS)")+")",b.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(e)},format:function(d,e,f){var g,h,i,j,k=b._.includes(e,"ib")?c:a,l=b._.includes(e," b")||b._.includes(e," ib")?" ":"";for(e=e.replace(/\s?i?b/,""),h=0;h<=k.suffixes.length;h++)if(i=Math.pow(k.base,h),j=Math.pow(k.base,h+1),null===d||0===d||d>=i&&j>d){l+=k.suffixes[h],i>0&&(d/=i);break}return g=b._.numberToFormat(d,e,f),g+l},unformat:function(d){var e,f,g=b._.stringToNumber(d);if(g){for(e=a.suffixes.length-1;e>=0;e--){if(b._.includes(d,a.suffixes[e])){f=Math.pow(a.base,e);break}if(b._.includes(d,c.suffixes[e])){f=Math.pow(c.base,e);break}}g*=f||1}return g}})}(),function(){b.register("format","currency",{regexps:{format:/(\$)/},format:function(a,c,d){var e,f,g,h=b.locales[b.options.currentLocale],i={before:c.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:c.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(c=c.replace(/\s?\$\s?/,""),e=b._.numberToFormat(a,c,d),a>=0?(i.before=i.before.replace(/[\-\(]/,""),i.after=i.after.replace(/[\-\)]/,"")):0>a&&!b._.includes(i.before,"-")&&!b._.includes(i.before,"(")&&(i.before="-"+i.before),g=0;g<i.before.length;g++)switch(f=i.before[g]){case"$":e=b._.insert(e,h.currency.symbol,g);break;case" ":e=b._.insert(e," ",g+h.currency.symbol.length-1)}for(g=i.after.length-1;g>=0;g--)switch(f=i.after[g]){case"$":e=g===i.after.length-1?e+h.currency.symbol:b._.insert(e,h.currency.symbol,-(i.after.length-(1+g)));break;case" ":e=g===i.after.length-1?e+" ":b._.insert(e," ",-(i.after.length-(1+g)+h.currency.symbol.length-1))}return e}})}(),function(){b.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(a,c,d){var e,f="number"!=typeof a||b._.isNaN(a)?"0e+0":a.toExponential(),g=f.split("e");return c=c.replace(/e[\+|\-]{1}0/,""),e=b._.numberToFormat(Number(g[0]),c,d),e+"e"+g[1]},unformat:function(a){function c(a,c,d,e){var f=b._.correctionFactor(a,c),g=a*f*(c*f)/(f*f);return g}var d=b._.includes(a,"e+")?a.split("e+"):a.split("e-"),e=Number(d[0]),f=Number(d[1]);return f=b._.includes(a,"e-")?f*=-1:f,b._.reduce([e,Math.pow(10,f)],c,1)}})}(),function(){b.register("format","ordinal",{regexps:{format:/(o)/},format:function(a,c,d){var e,f=b.locales[b.options.currentLocale],g=b._.includes(c," o")?" ":"";return c=c.replace(/\s?o/,""),g+=f.ordinal(a),e=b._.numberToFormat(a,c,d),e+g}})}(),function(){b.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(a,c,d){var e,f=b._.includes(c," %")?" ":"";return b.options.scalePercentBy100&&(a=100*a),c=c.replace(/\s?\%/,""),e=b._.numberToFormat(a,c,d),b._.includes(e,")")?(e=e.split(""),e.splice(-1,0,f+"%"),e=e.join("")):e=e+f+"%",e},unformat:function(a){var c=b._.stringToNumber(a);return b.options.scalePercentBy100?.01*c:c}})}(),function(){b.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(a,b,c){var d=Math.floor(a/60/60),e=Math.floor((a-60*d*60)/60),f=Math.round(a-60*d*60-60*e);return d+":"+(10>e?"0"+e:e)+":"+(10>f?"0"+f:f)},unformat:function(a){var b=a.split(":"),c=0;return 3===b.length?(c+=60*Number(b[0])*60,c+=60*Number(b[1]),c+=Number(b[2])):2===b.length&&(c+=60*Number(b[0]),c+=Number(b[1])),Number(c)}})}(),b});class _$_{static isJSON(value){return value!==undefined&&value.constructor===Object;}
static isValidJSON(json){return json!==undefined&&json.constructor===Object&&Object.keys(json).length>0;}
static isArray(value){return value!==undefined&&Array.isArray(value);}
static isValidArray(value){return value!==undefined&&Array.isArray(value)&&value.length>0;}
static isHTML(value){return value!==undefined&&(/<[a-z/][\s\S]*>/i).test(value);}
static validNumber(value){if(value=="00"){value="0";}
if(value==="."){value="0.";}
if(!value.includes(".")){value=parseFloat(value);}
if(!(/^[-]?\d+[.]?\d*$/).test(value)){value=value.toString().substring(0,value.length-1);}
return value;}
static isUniform(a,b,equal){let identical=false;if(_$_.isValidJSON(a)&&_$_.isValidJSON(b)){$.each(a,function(ak,av){$.each(b,function(bk,bv){identical=ak===bk;});});}
if(a!==undefined&&!_$_.isValidJSON(a)){if(b!==undefined&&!_$_.isValidJSON(b)){return a===b;}}
return identical;}
static targetBound(target,event_type){let bound=false
if(target!==undefined){$.each($._data(target,"events"),function(k,v){if(k===event_type){bound=true;}});}
return bound;}
static highestZindex(highest,tag_name){let tag="*";if(tag_name!==undefined){tag=tag_name;}
$(tag).each(function(){let zindex=$(this).css("z-index");if((zindex>highest)&&(zindex!='auto')){highest=zindex;}});return highest;}}
class Dropbox{static get target(){return"html, .dropbox-btn, .i-close";}
constructor(container,config=0){this._target="html, #demo-order-list .dropbox-btn, #demo-order-list .i-close";this._self=$();this._setting={container:container,direction:"down",insertion:"replace",on_target:"mousedown",type:"list",has_crumb:true,trigger:{icon:"fas fa-list-alt"},content:{add_option:{class:"fas fa-plus",listener:[]},scroll:"vertical",data:[],option:{has_title:false,icon:"fas fa-receipt",listener:[]}}}
this.setting=config;this.settingUpdated();Array.prototype.where=function(condition){return $.grep(this,function(json,i){return condition(json,i);});};Array.prototype.first=function(condition){return $.grep(this,function(json,i){return condition(json,i);})[0];};Array.prototype.remove=function(key){if(_$_.validArray(key)){for(let k of key){this.remove(k);}}else{let item={};item=this.first(function(item){return item.key===key;});if(this.indexOf(item)!==-1){this.splice(this.indexOf(item),1);}}}}
get target(){return this._target;}
get self(){return this._self;}
get setting(){return this._setting;}
set setting(config){if(_$_.isValidJSON(config)){this._setting=$.extend(true,{},this._setting,config);}}
async settingUpdated(){await Promise.resolve(setTimeout(()=>{this.refresh();},0));}
refresh(){this.init(this.setting);}
moveScrollY(selector,position){switch(position){case"top":$(selector).scrollTop(0);break;case"bottom":$(selector).scrollTop($(selector)[0].scrollHeight);break;default:$(selector).scrollTop($(selector)[0].scrollHeight);}}
onTarget(event_type){let target=this.target;let $self=this.self;$(target).on(event_type,function(e){e.stopPropagation();if($(this).is($self.find(".dropbox-btn"))){$(this).toggleClass("show");$(this).siblings(".wrap-dropbox-content").toggleClass("show");}
if($(this).is($self.find(".i-close"))){$self.find(".dropbox-btn").removeClass("show");$self.find(".wrap-dropbox-content").removeClass("show");}
if($(this).is($self.parents())&&!$(e.target).is($self.find("*"))){$self.find(".dropbox-btn").removeClass("show");$self.find(".wrap-dropbox-content").removeClass("show");}});}
static async onTarget(event_type){let selector=Dropbox.target;$(selector).on(event_type,function(e){e.stopPropagation();if($(this).is($(".dropbox-btn"))){$(this).toggleClass("show");$(this).siblings(".wrap-dropbox-content").toggleClass("show");}
if($(this).is($(".i-close"))){$(this).parent().parent().siblings(".dropbox-btn").removeClass("show");$(this).parent().parent(".wrap-dropbox-content").removeClass("show");}
if($(this).is($("html"))&&!$(e.target).is($(".dropbox *"))){$(".dropbox .dropbox-btn").removeClass("show");$(".dropbox .wrap-dropbox-content").removeClass("show");}});}
async buildTrigger($dropbox){let $dropbox_btn=$("<div class='dropbox-btn'></div>");let $badge=$("<div class='badge'></div>");let $icon=$("<i class='icon'></i>");let $img_circle=$("<img class='img-circle' src='/images/user.png'/>");if($dropbox.hasClass("list")){if(_$_.isValidJSON(this.setting)){if(_$_.isHTML(this.setting.trigger.icon)){$icon.replaceWith(this.setting.trigger.icon);}else{if(typeof this.setting.trigger.icon==="string"){$icon.addClass(this.setting.trigger.icon);}}
if(this.setting.trigger.badge!==undefined){$badge.append(this.setting.trigger.badge);}}
$dropbox_btn.append($icon).append($badge);}
if($dropbox.hasClass("profile")){if(_$_.isValidJSON(this.setting)){if(_$_.isHTML(this.setting.trigger.icon)){$img_circle.replaceWith(this.setting.trigger.icon);}else{$img_circle.prop("src",this.setting.trigger.icon);}}
$dropbox_btn.append($img_circle);}
$dropbox.append($dropbox_btn);}
async buildContent($dropbox){let $wrap_dropbox_content=$("<div class='wrap-dropbox-content'></div>");$("<div class='dropbox-navigator'>"
+"<div class='i-close far fa-window-close'></div>"
+"</div>").appendTo($wrap_dropbox_content);let $dropbox_content=$("<div class='dropbox-content'></div>");let add_opt=this.setting.content.add_option;if($dropbox.hasClass("list")){if(_$_.isValidJSON(add_opt)){let $add_option=$("<i class='add-option'></i>");if(add_opt.class!==undefined){$add_option.addClass(add_opt.class);}
if(_$_.validArray(add_opt.listener)){$add_option.on(add_opt.listener[0],add_opt.listener[1]);}
if(_$_.isValidJSON(add_opt.listener)){$add_option.on(add_opt.listener.event,add_opt.listener.callback);}
$dropbox_content.append($add_option);}}
let $wrap_option=$("<div class='wrap-option'></div>");switch(this.setting.content.scroll){case"vertical":$wrap_option.addClass("scroll-y");break;case"none":$wrap_option.removeClass("scroll-y");break;default:$wrap_option.addClass("scroll-y");}
let data=this.setting.content.data;let opt=this.setting.content.option;if(_$_.validArray(data)){data.forEach(function(d){let $option=$("<a class='option' href='#' data-key='"+d.key+"'>"+" "+d.value+"</a>");let $icon=$("<i class='"+opt.icon+"'></i>");if(d.icon!==undefined){if(_$_.isHTML(d.icon)){$icon=d.icon;}else{$icon.addClass(d.icon);}}
$option.prepend($icon);if(d.url!==undefined){$option.prop("href",d.url);}
if(opt.has_title){$option.prop("title",d.value);}
if(d.title!==undefined){$option.prop("title",d.title);}
if(_$_.validArray(opt.listener)){$option.on(opt.listener[0],opt.listener[1]);}
if(_$_.isValidJSON(opt.listener)){$option.on(opt.listener.event,opt.listener.callback);}
$wrap_option.append($option);});}
$dropbox_content.append($wrap_option);$wrap_dropbox_content.append($dropbox_content);$dropbox.append($wrap_dropbox_content);}
async render(){let $dropbox=$("<div class='dropbox crumb'></div>");if(_$_.isValidJSON(this.setting)){if(this.setting.type!==undefined){$dropbox.addClass(this.setting.type);}
if(this.setting.direction!==undefined){$dropbox.addClass(this.setting.direction);}
if(this.setting.has_crumb!==undefined&&!this.setting.has_crumb){$dropbox.removeClass("crumb");}}
await this.buildTrigger($dropbox);await this.buildContent($dropbox);this._self=$dropbox;}
async init(config){if(!_$_.isValidJSON(config)){return;};this.setting=config;if(this.setting.container!==undefined){await this.render();switch(this.setting.insertion){case"prepend":$(this.setting.container).prepend(this.self);break;case"append":$(this.setting.container).append(this.self);break;case"replace":$(this.setting.container).html(this.self);break;default:$(this.setting.container).prepend(this.self);}
this.onTarget(this.setting.on_target);}}}
$(function(){$("html, .dropbox-btn, .i-close").on("mousedown",function(e){if($(this).is($(".dropbox-btn"))){$(this).toggleClass("show");$(this).siblings(".wrap-dropbox-content").toggleClass("show");}
if($(this).is($(".i-close"))){$(this).parent().parent().siblings(".dropbox-btn").removeClass("show");$(this).parent().parent(".wrap-dropbox-content").removeClass("show");}
if($(this).is($("html"))&&!$(e.target).is($(".dropbox *"))){$(".dropbox .dropbox-btn").removeClass("show");$(".dropbox .wrap-dropbox-content").removeClass("show");}});})
class Slideshow{constructor(config){this._self=$("<div class='slideshow'></div>");this._content=$("<div class='content'></div>");this._setting={container:"",image_list:[]}}
set setting(config){this._setting=$.extend(true,{},this._setting,config);}
get setting(){return this._setting;}
get self(){return this._self;}
get content(){return this._content;}
async build(){this.setting.container.html(this.self);}};(function($,container){$(".tab-sheet > .tab-title",container).on("click",function(){$(this).parent(".tab-sheet").addClass("active").siblings().removeClass("active");});}(jQuery,".widget-tab"));class DialogBuilder{constructor(config){this._background=$("<div class='dialog-box-background'></div>");this._template=$("<div class='dialog-box'></div>");this._header=$("<div class='header'></div>");this._content=$("<div class='content'></div>");this._footer=$("<div class='footer'></div>");this._setting={class:"",id:"#"+Date.now().toString(),container:{selector:"",attribute:"dialog-container"},insertion:"append",caption:"",content:"",type:"",icon:"",position:"",button:{meta:this},animation:{startup:{complete:false,timing:"after",name:"slide-down",delay:0,duration:300,callback:function(e){}},shutdown:{complete:false,timing:"after",name:"slide-up",delay:0,duration:300,callback:function(e){},keycode:27,}}}
this.setting=config;}
set setting(config){if(!!config&&config.constructor===Object&&Object.keys(config).length>0){this._setting=$.extend(true,{},this._setting,config);}}
get setting(){return this._setting;}
get background(){return this._background;}
get template(){return this._template;}
get header(){return this._header;}
get content(){return this._content;}
get footer(){return this._footer;}
addOrigin(process,name){this.setting.animation[process].name=name;switch(name){case"slide-up":if(process==="startup"){this.template.addClass("origin-bottom");}
if(process==="shutdown"){this.template.addClass("origin-top");}
break;case"slide-down":if(process==="startup"){this.template.addClass("origin-top");}
if(process==="shutdown"){this.template.addClass("origin-bottom");}
break;case"slide-left":if(process==="startup"){this.template.addClass("origin-right");}
if(process==="shutdown"){this.template.addClass("origin-left");}
break;case"slide-right":if(process==="startup"){this.template.addClass("origin-left");}
if(process==="shutdown"){this.template.addClass("origin-right");}
break;case"fade":this.template.addClass("fade");break;}}
removeOrigin(process,name){this.setting.animation[process].name=name;switch(name){case"slide-up":this.template.removeClass("origin-bottom");break;case"slide-down":this.template.removeClass("origin-top");break;case"slide-left":this.template.removeClass("origin-right");break;case"slide-right":this.template.removeClass("origin-left");break;case"fade":this.template.removeClass("fade");break;}}
animate(process,delay,duration,name){this.setting.animation[process].delay=delay;this.setting.animation[process].duration=duration;this.setting.animation[process].name=name;let timespan=parseFloat(duration)/1000;setTimeout(()=>{switch(process){case"startup":this.template.addClass("startup").css("transition",timespan+"s");this.background.addClass("blur").css("transition",timespan+"s");break;case"shutdown":this.template.removeClass("startup").addClass("shutdown").css("transition",timespan+"s");this.background.removeClass("blur").css("transition",timespan+"s");break;}},parseFloat(this.setting.animation[process].delay));}
onEffect(process,timing,callback){this.setting.animation[process].timing=timing;this.setting.animation[process].callback=callback;}
invoke(callback){if(typeof callback==="function"){this.startup("before",callback);}
return this;}
startup(timing,callback){if(!!timing&&typeof timing==="string"){this.setting.animation.startup.timing=timing;this.setting.animation.startup.callback=callback;}
let $this=this,_startup=this.setting.animation.startup;switch(_startup.timing.toLowerCase()){case"before":$this.build($this.setting);_startup.callback.call($this,$this,$this.template);$this.setPosition($this.setting.position);$this.addOrigin("startup",$this.setting.animation.startup.name);$this.animate("startup",_startup.delay,_startup.duration,_startup.name);break;case"during":$this.build($this.setting);_startup.callback.call($this,$this,$this.template);$this.setPosition($this.setting.position);$this.addOrigin("startup",$this.setting.animation.startup.name);$this.animate("startup",_startup.delay,_startup.duration,_startup.name);break;case"after":$this.build($this.setting);$this.setPosition($this.setting.position);$this.addOrigin("startup",$this.setting.animation.startup.name);$this.animate("startup",_startup.delay,_startup.duration,_startup.name);setTimeout(function(){_startup.callback.call($this,$this,$this.template);},parseFloat(_startup.delay)+parseFloat(_startup.duration));break;}
this.onEffect("startup",_startup.timing,_startup.callback);this.setting.animation.startup.complete=true;}
shutdown(timing,callback){if(this.setting.animation.startup.complete){if(!!timing&&typeof timing==="string"){this.setting.animation.shutdown.timing=timing;this.setting.animation.shutdown.callback=callback;}
let _shutdown=this.setting.animation.shutdown;switch(_shutdown.timing.toLowerCase()){case"before":_shutdown.callback.call(this,this,this.template);this.removeOrigin("startup",this.setting.animation.startup.name);this.addOrigin("shutdown",this.setting.animation.shutdown.name);this.animate("shutdown",_shutdown.delay,_shutdown.duration,_shutdown.name);break;case"during":this.removeOrigin("startup",this.setting.animation.startup.name);this.addOrigin("shutdown",this.setting.animation.shutdown.name);this.animate("shutdown",_shutdown.delay,_shutdown.duration,_shutdown.name);_shutdown.callback.call(this,this,this.template);break;case"after":this.removeOrigin("startup",this.setting.animation.startup.name);this.addOrigin("shutdown",this.setting.animation.shutdown.name);this.animate("shutdown",_shutdown.delay,_shutdown.duration,_shutdown.name);setTimeout(()=>{_shutdown.callback.call(this,this,this.template);},parseFloat(_shutdown.delay)+parseFloat(_shutdown.duration));break;}
setTimeout(()=>{this.onEffect("shutdown",_shutdown.timing,_shutdown.callback);this.destroy();},parseFloat(this.setting.animation.shutdown.delay)
+parseFloat(this.setting.animation.shutdown.duration));this.setting.animation.shutdown.complete=true;}}
setPosition(value){if(value!==undefined){this.setting.position=value;switch(this.setting.position){case"top-left":this.background.addClass("top-left");break;case"top-center":this.background.addClass("top-center");break;case"top-right":this.background.addClass("top-right");break;case"center-left":this.background.addClass("center-left");break;case"center":this.background.addClass("center");break;case"center-right":this.background.addClass("center-right");break;case"bottom-left":this.background.addClass("bottom-left");break;case"bottom-center":this.background.addClass("bottom-center");break;case"bottom-right":this.background.addClass("bottom-right");break;}}}
build(config){}
render(){let container=this.setting.container.selector;if(!!this.setting.container.attribute){container=$("["+this.setting.container.attribute+"]");}
if(!!container){let $this=this,insertion=this.setting.insertion;document.addEventListener("keyup",function(e){let _keycode=$this.setting.animation.shutdown.keycode;if(typeof $this.setting.animation.shutdown.keycode==="string"){_keycode=$this.setting.animation.shutdown.keycode.toLowerCase();}
if(e.which===_keycode){$this.shutdown();}});switch(insertion.toLowerCase()){case"replace":container.html(this.background);break;case"prepend":container.prepend(this.background);break;case"append":container.append(this.background);break;}
container.css({"position":"fixed","top":"0","z-index":"10"});}}
destroy(){if(this instanceof DialogBuilder){delete this;this.background.remove();}}
highestZIndex(tag_name){let tag="*";let highest=0;if(!!tag_name){tag=tag_name;}
$(tag).each(function(){let zindex=$(this).css("z-index");if((zindex>highest)&&(zindex!='auto')){highest=zindex;}});return highest;}}
class DialogBox extends DialogBuilder{constructor(config){super(config);this.setting={type:"ok",icon:"info",closeButton:true,position:"top-center",button:{yes:{meta:this,template:"<button class='button bg-success'></button>",text:"YES",callback:function(e){},keycode:13},no:{meta:this,template:"<button class='button bg-danger'></button>",text:"NO",callback:function(e){},keycode:undefined},ok:{meta:this,template:"<button class='button'></button>",text:"OK",callback:function(e){},keycode:13},cancel:{meta:this,template:"<button class='button bg-danger'></button>",text:"CANCEL",callback:function(e){},keycode:27}}}
this.setting=config;this.startup();}
static Create(_config){return new DialogBox(_config);}
on(event,callback){switch(event.toLowerCase()){case"yes":this.setting.button.yes.callback=callback;break;case"ok":this.setting.button.ok.callback=callback;break;case"no":this.setting.button.no.callback=callback;return this;case"cancel":this.setting.button.cancel.callback=callback;break;}
return this;}
confirm(callback){this.setting.button.ok.callback=callback;this.setting.button.yes.callback=callback;return this;}
reject(callback){this.setting.button.no.callback=callback;this.setting.button.cancel.callback=callback;return this;}
get caption(){let $caption=$("<div class='caption'></div>");if(this.setting.caption!==undefined){$caption.append(this.setting.caption);}
return $caption;}
get closeButton(){let $this=this;let $wrap_icon=$("<div class='wrap-icon'></div>");let $closeButton=$();if(this.setting.closeButton){$closeButton=$("<i class='icon icon-close'></i>");}else{if(typeof this.setting.closeButton==="string"){$closeButton=$("<i class='"+this.setting.closeButton+"'></i>");}}
return $wrap_icon.append($closeButton.on("click",function(e){$this.shutdown();}));}
get icon(){let $wrap_icon=$("<div class='wrap-icon'></div>");let $icon=$("<div class='icon'></div>");if(this.setting.icon!==undefined){switch(this.setting.icon){case"info":$icon.addClass("info");break;case"warning":$icon.addClass("warning");break;case"danger":$icon.addClass("danger");break;default:if(!!this.setting.icon&&this.setting.icon.constructor===Object&&Object.keys(this.setting.icon).length>0){let icon=this.setting.icon;let $i_icon=$("<i></i>");if(icon.class!==undefined){$i_icon.addClass(icon.class);}
if(icon.color!==undefined){$i_icon.css("color",icon.color);}
if(icon.background_color!==undefined){$icon.css("background",icon.background_color);}
$icon.append($i_icon);}
if(typeof this.setting.icon==="string"){$icon.append("<i class='"+this.setting.icon+"'></i>");if(!!this.setting.icon&&(/<[a-z/][\s\S]*>/i).test(this.setting.icon)){$icon.append(this.setting.icon);}}
if(this.setting.icon==="none"||this.setting.icon==null){$icon=$();}}}
return $wrap_icon.append($icon);}
get button(){let dialog=this;let $button_wrap=$("<div class='wrap-button'></div>");if(this.setting.button==="none"){$button_wrap.addClass("free-space");}
if(!!this.setting.button&&this.setting.button.constructor===Object&&Object.keys(this.setting.button).length>0){let type=this.setting.type.toLowerCase();let button=this.setting.button;let $ok=$(button.ok.template);let $yes=$(button.yes.template);let $no=$(button.no.template);let $cancel=$(button.cancel.template);switch(type){case"ok":if(typeof button.ok.callback==="function"){$ok.attr("id","ok"+this.setting.id).html(button.ok.text);if(button.ok.class){$ok.addClass(button.ok.class);}
$ok.on("click",function(e){button.ok.callback(dialog.fallback(button.ok,this),e);if(typeof button.meta.setting.content==="string"){button.meta.shutdown();}});}
$button_wrap.append($ok).addClass("right");break;case"yes-no":case"yes/no":if(typeof button.yes.callback==="function"){$yes.attr("id","yes"+this.setting.id).html(button.yes.text);if(button.yes.class){$ok.addClass(button.yes.class);}
$yes.on("click",function(e){button.yes.callback(dialog.fallback(button.yes,this),e);});}
if(typeof button.no.callback==="function"){$no.attr("id","no"+this.setting.id).html(button.no.text);if(button.no.class){$ok.addClass(button.no.class);}
$no.on("click",function(e){button.no.callback(dialog.fallback(button.no,this),e);if(typeof button.meta.setting.content==="string"){button.meta.shutdown();}});}
$button_wrap.append($yes).append($no).addClass("right");break;case"ok-cancel":case"ok/cancel":if(typeof button.ok.callback==="function"){$ok.attr("id","ok"+this.setting.id).html(button.ok.text);if(button.ok.class){$ok.addClass(button.ok.class);}
$ok.on("click",function(e){button.ok.callback(dialog.fallback(button.ok,this),e);});}
if(typeof button.cancel.callback==="function"){$cancel.attr("id","cancel"+this.setting.id).html(button.cancel.text);if(button.cancel.class){$ok.addClass(button.cancel.class);}
$cancel.on("click",function(e){button.cancel.callback(dialog.fallback(button.cancel,this),e);if(typeof button.meta.setting.content==="string"){button.meta.shutdown();}});}
$button_wrap.append($ok).append($cancel).addClass("right");break;case"yes-no-cancel":case"yes/no/cancel":if(typeof button.yes.callback==="function"){$yes.attr("id","yes"+this.setting.id).html(button.yes.text);if(button.yes.class){$ok.addClass(button.yes.class);}
$yes.on("click",function(e){button.yes.callback(dialog.fallback(button.yes,this),e);});}
if(typeof button.no.callback==="function"){$no.attr("id","no"+this.setting.id).removeClass("bg-danger").html(button.no.text);if(button.no.class){$ok.addClass(button.no.class);}
$no.on("click",function(e){button.no.callback(dialog.fallback(button.no,this),e);});}
if(typeof button.cancel.callback==="function"){$cancel.attr("id","cancel"+this.setting.id).html(button.cancel.text);if(button.cancel.class){$ok.addClass(button.cancel.class);}
$cancel.on("click",function(e){button.cancel.callback(dialog.fallback(button.cancel,this),e);if(typeof button.meta.setting.content==="string"){button.meta.shutdown();}});}
$button_wrap.append($yes).append($no).append($cancel).addClass("right");break;default:if(this.setting.type==="none"){return $button_wrap.addClass("free-space");}}}
return $button_wrap;}
fallback(proto,target){return{meta:this,proto:proto,target:target}}
preventConfirm(okay=true){this.disable("yes",okay);this.disable("ok",okay);}
disable(target,okay=true){let _target=target;if(typeof _target==="string"){_target=$(this.template).find("button[id='"+target+this.setting.id+"']")[0];}
$(_target).prop("disabled",okay);}
build(config){this.setting=config;this.header.children().remove();this.header.append(this.icon).append(this.caption).append(this.closeButton);if(this.setting.content!==undefined){this.content.html("<span>"+this.setting.content+"</span>");if(!!this.setting.content&&this.setting.content.constructor===Object&&Object.keys(this.setting.content).length>0){if(this.setting.content.selector.includes("#")||this.setting.content.selector.includes(".")){let $cloned=$(this.setting.content.selector).clone(true);this.content.html($cloned).addClass("outer-content");if(this.setting.content.class!==undefined){this.content.removeClass("outer-content").addClass(this.setting.content.class);}}}}
this.footer.html(this.button);this.template.append(this.header).append(this.content).append(this.footer);this.background.append(this.template);this.render();}}
class DialogCalculator extends DialogBuilder{constructor(config){super(config);this._left=0;this._right=0;this._result=0;this.setting={position:"top-center",output:this.result,button:{accept:{meta:this,text:"Accept",callback:function(e){}}},animation:{shutdown:{name:"slide-up"}}}
Number.prototype.precise=function(max_precision){return(this.toString().length>max_precision)?this.toPrecision(max_precision):this;}
Math.negative=function(value){return parseFloat(value)<0;}
Math.negate=function(value){return parseFloat(value)*(-1);}
this.setting=config;this.startup();}
set result(value){this._result=value;}
get result(){return this._result;}
set left(value){this._left=parseFloat(value);}
get left(){return this._left;}
set right(value){this._right=parseFloat(value);}
get right(){return this._right;}
multiply(){this._result=this._left*this._right;return this._result;}
divide(){if(this._right!==0){this._result=this._left / this._right;}else{if(Math.negative(this._left)){this._result=Number.NEGATIVE_INFINITY;}else{this._result=Number.POSITIVE_INFINITY;}}
return this._result;}
add(){this._result=this._left+this._right;return this._result;}
substract(){this._result=this._left-this._right;return this._result;}
accept(callback){this.setting.button.accept.callback=callback;}
build(setting){let $this=this;this.setting=setting;this.template.addClass("calculator standard");let $content=$("<div class='navigator reserve'></div>"
+"<div class='navigator output'>0</div>"
+"<div class='keypad'>"
+"<div data-key='ce' class='key control'>CE</div>"
+"<div data-key='c' class='key control'>C</div>"
+"<div data-key='backspace' class='key control'><i class='backspace'>×</i></div>"
+"<div data-key='÷' class='key operator'>÷</div>"
+"<div data-key='7' class='key operant'>7</div>"
+"<div data-key='8' class='key operant'>8</div>"
+"<div data-key='9' class='key operant'>9</div>"
+"<div data-key='×' class='key operator'>×</div>"
+"<div data-key='4' class='key operant'>4</div>"
+"<div data-key='5' class='key operant'>5</div>"
+"<div data-key='6' class='key operant'>6</div>"
+"<div data-key='-' class='key operator'>-</div>"
+"<div data-key='1' class='key operant'>1</div>"
+"<div data-key='2' class='key operant'>2</div>"
+"<div data-key='3' class='key operant'>3</div>"
+"<div data-key='+' class='key operator'>+</div>"
+"<div data-key='±' class='key control'>±</div>"
+"<div data-key='0' class='key operant'>0</div>"
+"<div data-key='.' class='key operant'>.</div>"
+"<div data-key='=' class='key r-operator'>=</div>"
+"</div>");this.template.html($content).append($("<div class='navigator accept-result'>Accept</div>").on("click",function(e){$this.setting.button.accept.callback(this,e);}));this.calculate(this.template);this.background.html(this.template).on("click",function(e){if($(e.target).is(this)){$this.shutdown();}});this.render();};calculate($calc){const self=this;const $operant=$calc.find('.keypad .key.operant');const $operator=$operant.siblings(".operator");const $r_operator=$operant.siblings(".r-operator");const $output=$operant.parent().siblings(".output");const $reserve=$output.siblings(".reserve");const $control=$operant.siblings(".control");let output=0;let reserve="";let sign="";let ready=false;$operant.click(function(e){if(ready){output=$(this).data('key').toString();}else{if($output.text().length<13){output+=$(this).data('key').toString();}}
output=self.validNumber(output);$output.text(output);ready=false;});$operator.click(function(e){resultClicked(e);sign=$(this).data("key").toString();self.left=parseFloat(output);reserve=self.left.precise(9)+" "+sign;$(".reserve").text(reserve);$(".output").text(output);ready=true;});$r_operator.click(resultClicked);function resultClicked(e){if(sign===""){return;}
self.right=parseFloat(output);reserve=self.left.precise(6)+" "+sign+" "+self.right.precise(6);if(Math.negative(self.right)){reserve=self.left.precise(6)+" "+sign+" ( "+self.right.precise(6)+" )";}
output="";switch(sign){case"×":self.multiply();break;case"÷":self.divide();break;case"+":self.add();break;case"-":self.substract();break;}
output=self.result.precise(9);$reserve.text(reserve);$output.text(output);ready=true;}
$control.click(function(e){output=output.toString();switch($(this).data("key")){case'±':output=Math.negate(output).toString();break;case'backspace':if(output.includes("Infinity")){output=0;}else{output=output.substring(0,output.length-1);if(output.length<2&&output.includes("-")){output=0;}}
break;case'c':self.left=0;self.right=0;self.result=0;output=0;sign="";reserve="";break;case'ce':output=0;break;}
if(output.length===0){output=0;}
$reserve.text(reserve);$output.text(output);});}
validNumber(value){if(!!value&&typeof value==="number"){value=value.toString();}
if(value=="-00"){value="-0";}
if(value==""||value=="-"||value=="00"){value="0";}
if(value=="."){value="0.";}
if(!(/^[-]?\d+[.]?\d*$/).test(value)){if(value=="-"){value="-"+value;}
value=value.toString().substring(0,value.length-1);}else{if(!value.includes(".")&&value!="-0"){value=parseFloat(value);}}
return value;}}
$(function($,container){$("html, .widget-combobox .combobox-trigger, .widget-combobox .i-close").on("mousedown",function(e){var $content=undefined;if($(this).is($(".combobox-trigger"))){$content=$(this).toggleClass("show").siblings(".combobox-content");if($content.hasClass("show")){closeContent($content);}else{showContent($content);}}
if($(e.target).is($(".i-close"))){$content=$(this).parent(".combobox-header").parent(".combobox-content");closeContent($content);}
$content=$(e.target).find(".combobox-content");closeContent($content);});function showContent(content){if($(content).length>0){$(content).addClass("show").siblings(".combobox-trigger").addClass("show");}}
function closeContent(content){if($(content).length>0){$(content).removeClass("show").siblings(".combobox-trigger").removeClass("show");$(content).find(".combobox-content").removeClass("show").siblings(".combobox-trigger").removeClass("show");}}}(jQuery,".ck-widget-container"));$(function(){let $searchBox=$(".group-search-boxes .search-box");$searchBox.find(".btn-search").click(function(e){$(this).parent(".search-box").addClass("show");$(this).parents(".group-search-boxes").find(".btn-search").hide();setTimeout(()=>{$(this).siblings(".input-box").find("input").focus().val("");},250);});$searchBox.find("#i-close").click(function(e){e.preventDefault();$(this).parents(".search-box").removeClass("show");$(this).parents(".group-search-boxes").find(".btn-search").show();});});;(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):global.DataPaging=factory;})(window,function DataPaging(config){if(!(this instanceof DataPaging)){return new DataPaging(config);}
const __this=this;var __template={ul:document.createElement("ul"),li:document.createElement("li")};var __setting={container:undefined,keyField:"",pageSize:15,startIndexSize:4,align:"right",style:{class:"ck-pagination",mode:"circle",border:1,font:{size:"1em",weight:"bold",family:"monospace"}},onQueryPage:function(fallbackEvent){}};var __meta={proto:this,template:__template.ul,dataset:new Array()},__pageStore={activeIndex:1,nodes:new Array(),numbers:new Array()};configure(config);this.template=undefined;this.configure=configure;function configure(setting){if(isValidJson(setting)){__setting=$.extend(true,__setting,setting);}}
this.yield=function(){return __meta.dataset;}
this.appendTo=function(container,clearContent=true){if(container){if(clearContent){$(container).children().remove();}
$(container).append(__meta.template);}};this.bindTo=function(container){if(container){$(container).html(__meta.template);}};function countMaxPage(){var opt=__setting;var maxPageCount=Math.floor(__meta.dataset.length / parseFloat(opt.pageSize));if(__meta.dataset.length%parseFloat(opt.pageSize)!==0){maxPageCount=maxPageCount+1;}
return maxPageCount;}
this.find=function(value,dataset){var _dataset=__meta.dataset;if(isValidArray(dataset)){_dataset=dataset;}
return $.grep(_dataset,function(_item){if(isValidJson(value)){return _item[__setting.keyField]==value[__setting.keyField];}
else{return _item[__setting.keyField]==value;}})[0];};this.findPage=function(value){var page={index:1,dataset:this.filterByIndex(1)};for(let i=1;i<=countMaxPage();i++){var _dataset=__meta.proto.filterByIndex(i);var item=__this.find(value,_dataset);if(isValidJson(item)){page.index=i;page.dataset=_dataset;break;}}
return page;};this.filterByIndex=function(index){return paginate(__meta.dataset,__setting.pageSize,index);};this.isOnActivePage=function(value){var page=this.findPage(value);return page["item"]!==undefined&&getActiveIndex()==page["index"];};this.addJson=function(item,callback){__meta.dataset.push(item);var page={index:countMaxPage(),data:this.filterByIndex(countMaxPage())};if(!this.isOnActivePage(item)){this.navigate(page.index);}
if(typeof callback==="function"){callback.call(this,page);}
return this;};this.updateJson=function(item,callback){$.grep(__meta.dataset,function(json){if(item[__setting.keyField]===json[__setting.keyField]){$.each(item,function(k,v){json[k]=item[k];});}});var page=this.findPage(item);if(!this.isOnActivePage(item)){this.navigate(page.index);}
if(typeof callback==="function"){callback.call(this,page);}
return this;};this.removeJson=function(item){var key=item
if(isValidJson(item)){key=item[__setting.keyField];}
__meta.dataset=$.grep(__meta.dataset,function(json){return json[__setting.keyField]!=key;});}
this.load=function(items,item,callback){if(Array.isArray(items)){__meta.dataset=items;}
var page=this.findPage(item);return this.navigate(page.index,items,callback);}
this.navigate=function(index,items,callback){if(isValidArray(items)){__meta.dataset=items;}
if(typeof parseInt(index)==="number"){var pageIndex=index;if(index>countMaxPage()){pageIndex=countMaxPage();}
setActiveIndex(pageIndex);}
return this.render(items,callback);};function setActiveIndex(index){__pageStore["activeIndex"]=index;}
function getActiveIndex(){return parseInt(__pageStore["activeIndex"]);}
function getStartIndex(){return parseInt(__setting.startIndexSize);}
function getDefaultIndexes(){var c=2,indexes=new Array(),defaultSize=getStartIndex();if(getStartIndex()>countMaxPage()){defaultSize=countMaxPage();}
while(c<=defaultSize){indexes.push(c++);}
return indexes;}
function defineStyle(){var style=__setting.style;$(__meta.template).addClass("ck-pagination").addClass(style["class"]);switch(style.mode){case"square":$(__meta.template).addClass("square");break;case"circle":$(__meta.template).addClass("circle");break;}
__meta.template.style.fontFamily=style.font.family;__meta.template.style.fontFamily=style.font.family;__meta.template.style.fontSize=style.font.size;__meta.template.style.fontWeight=style.font.weight;if(style.border===true||style.border>0){$(__meta.template).addClass("border");}}
function buildFirstPage(){let firstWalk=__template.li.cloneNode(true);firstWalk.textContent=1;firstWalk.setAttribute("name","page-first");$(firstWalk).on("click",function(e){setActiveIndex(1);if(getStartIndex()<countMaxPage()){offsetPrevious(countMaxPage());}
$(firstWalk).addClass("active");$.each(firstWalk.parentNode.childNodes,function(i,node){if(node!==firstWalk){$(node).removeClass("active");}});if(parseInt(firstWalk.textContent)===getActiveIndex()){__setting.onQueryPage.call(__meta.proto,fallbackEvent());}});if(getActiveIndex()===parseInt(firstWalk.textContent)){$(firstWalk).addClass("active");}
__meta.template.appendChild(firstWalk);}
function buildPreviousPage(){var previousWalk=__template.li.cloneNode(true);previousWalk.setAttribute("name","page-previous");previousWalk.innerHTML="&lt;&lt;";$(previousWalk).on("click",onPrevious);function onPrevious(e){if(getActiveIndex()>1){__pageStore["activeIndex"]--;if(getActiveIndex()<=countMaxPage()-getStartIndex()){offsetPrevious(1);}
$.each(__meta.template.childNodes,function(i,node){if(parseInt(node.textContent)===getActiveIndex()){$(node).addClass("active");}
else{$(node).removeClass("active");}});__setting.onQueryPage.call(__meta.proto,fallbackEvent());}}
__meta.template.appendChild(previousWalk);}
function buildNextPage(){var nextWalk=__template.li.cloneNode(true);nextWalk.setAttribute("name","page-next");nextWalk.innerHTML="&gt;&gt;";$(nextWalk).on("click",onNext);function onNext(e){if(getActiveIndex()<countMaxPage()){__pageStore["activeIndex"]++;if(getActiveIndex()>getStartIndex()){offsetNext(1);}
$.each(__meta.template.childNodes,function(i,node){if(parseInt(node.textContent)===getActiveIndex()){$(node).addClass("active");}
else{$(node).removeClass("active");}});__setting.onQueryPage.call(__meta.proto,fallbackEvent());}}
__meta.template.appendChild(nextWalk);}
function buildLastPage(){var lastWalk=__template.li.cloneNode(true);lastWalk.setAttribute("name","page-last");lastWalk.textContent=countMaxPage().toString();$(lastWalk).on("click",function(e){setActiveIndex(countMaxPage());offsetNext(countMaxPage());$(lastWalk).addClass("active");$.each(lastWalk.parentNode.childNodes,function(i,node){if(node!==lastWalk){$(node).removeClass("active");}});__setting.onQueryPage.call(__meta.proto,fallbackEvent());});if(getActiveIndex()>=countMaxPage()-getStartIndex()){offsetNext(countMaxPage());if(getActiveIndex()===parseInt(lastWalk.textContent)){$(lastWalk).addClass("active");}}
__meta.template.appendChild(lastWalk);}
function buildPreviousSkip(){var skipPrevNode=__template.li.cloneNode(true);skipPrevNode.setAttribute("name","page-skip-previous");skipPrevNode.className="hidden";skipPrevNode.textContent="...";$(skipPrevNode).on("click",onSkipPrev);function onSkipPrev(e){offsetPrevious(getStartIndex()-1);var activeNode=skipPrevNode.nextElementSibling;$(activeNode).addClass("active");$.each(activeNode.parentNode.childNodes,function(i,node){if(node!==activeNode){$(node).removeClass("active");}});setActiveIndex(parseInt(activeNode.textContent));__setting.onQueryPage.call(__meta.proto,fallbackEvent());}
__meta.template.appendChild(skipPrevNode);}
function buildNextSkip(){var skipNextNode=__template.li.cloneNode(true);skipNextNode.setAttribute("name","page-skip-next");skipNextNode.textContent="...";$(skipNextNode).on("click",onSkipNext);function onSkipNext(e){offsetNext(getStartIndex()-1);var activeNode=skipNextNode.previousElementSibling;$(activeNode).addClass("active");$.each(activeNode.parentNode.childNodes,function(i,node){if(node!==activeNode){$(node).removeClass("active");}});setActiveIndex(parseInt(activeNode.textContent));__setting.onQueryPage.call(__meta.proto,fallbackEvent());}
__meta.template.appendChild(skipNextNode);}
function buildIndexPage(){__pageStore["numbers"]=new Array();__pageStore["nodes"]=new Array();$.each(getDefaultIndexes(),function(i,m){var indexNode=__template.li.cloneNode(true);indexNode.setAttribute("name","page-index");indexNode.textContent=m.toString();__pageStore["numbers"].push(m);__pageStore["nodes"].push(indexNode);$(indexNode).on("click",onIndex);if(parseInt(indexNode.textContent)===getActiveIndex()){$(indexNode).addClass("active");}
__meta.template.appendChild(indexNode);});if(getActiveIndex()>getStartIndex()){offsetNext(getActiveIndex()-getStartIndex());}else{offsetPrevious(getActiveIndex()+getStartIndex());}}
function onIndex(e){setActiveIndex(parseInt(e.target.textContent));$(e.target).addClass("active");$.each(e.target.parentNode.childNodes,function(i,node){if(node!==e.target){$(node).removeClass("active");}});if(getActiveIndex()===parseInt(e.target.textContent)){__setting.onQueryPage.call(__meta.proto,fallbackEvent());}}
this.render=function(values,callback){__meta.template=__template.ul.cloneNode(true);if(isValidArray(values)){__meta.dataset=values;}
if(typeof callback==="function"){__setting.onQueryPage=callback;}
buildPreviousPage();buildFirstPage();buildPreviousSkip();buildIndexPage();if(countMaxPage()>getStartIndex()+1){buildNextSkip();}
if(getStartIndex()<countMaxPage()){buildLastPage();}
buildNextPage();defineStyle();this.template=__meta.template;if(__setting.container){if(typeof __setting.container==="string"){$(__setting.container).html(__meta.template);}
else{__setting.container.textContent=__meta.template;}}
__setting.onQueryPage.call(this,fallbackEvent());return this;};function offsetPrevious(offsetSize){offsetNext(-offsetSize);}
function offsetNext(offsetSize){var maxPageCount=countMaxPage(),indexNumbers=__pageStore["numbers"],indexNodes=__pageStore["nodes"],n=indexNodes.length;if(getStartIndex()<countMaxPage()){$(__meta.template).children("li[name='page-skip-previous']").removeClass("hidden");$(__meta.template).children("li[name='page-skip-next']").removeClass("hidden");$.each(indexNodes,function(i,elem){indexNumbers[i]+=offsetSize;if(indexNumbers[0]<=2){indexNumbers[i]=i+2;$(__meta.template).children("li[name='page-skip-previous']").addClass("hidden");}
if(indexNumbers[i]>=maxPageCount-n+i){indexNumbers[i]=maxPageCount-n+i;$(__meta.template).children("li[name='page-skip-next']").addClass("hidden");}
elem.textContent=indexNumbers[i];if(parseInt(elem.textContent)===getActiveIndex()){$(elem).addClass("active").siblings().removeClass("active");}});}}
function fallbackEvent(){return{meta:__meta,setting:__setting,dataset:paginate(__meta.dataset,__setting.pageSize,getActiveIndex()),page:{firstIndex:1,lastIndex:countMaxPage(),activeIndex:getActiveIndex()}};}
this.onQueryPage=function(callback){__setting.onQueryPage=callback;return this;};function paginate(values,maxPageCount,pageIndex){return values.slice((pageIndex-1)*maxPageCount,pageIndex*maxPageCount);}
function isEmpty(value){return value==undefined||value==null||value=="";}
function isValidJson(json){return!isEmpty(json)&&json.constructor===Object&&Object.keys(json).length>0;};function isValidArray(array){return Array.isArray(array)&&array.length>0;}});﻿;(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):global.ViewTable=factory;})(window,function ViewTable(config){if(!(this instanceof ViewTable)){return new ViewTable(config);}
const __this=this;const __template={table:document.createElement("table"),tbody:document.createElement("tbody"),tfoot:document.createElement("tfoot"),tr:document.createElement("tr"),th:document.createElement("th"),td:document.createElement("td"),input:document.createElement("input"),select:document.createElement("select"),optgroup:document.createElement("optgroup"),option:document.createElement("option"),textarea:document.createElement("textarea"),label:document.createElement("label"),div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i")},__setting={container:"",selector:"",model:{},dataSynced:false,indexed:false,grouping:{dataFields:[]},paging:{enabled:true},id:Date.now(),keyField:"",visibleFields:[],attribute:{key:"data-key",field:"data-field"},event:{onColumnChange:function(){},onRowChange:function(){}},row:{highlightOnUpdate:true,on:{"click":function(e){}}},scaleColumns:[],columns:[],actions:[]};const __meta={dataset:new Array(),container:undefined,template:undefined,proto:this},__activeRow={};var __paging=createPagination();configure(config);this.configure=configure;function configure(setting,reset=false){if(isValidJson(setting)){if(reset){__setting.model=undefined;__setting.columns=[];__setting.scaleColumns=[];ViewTable(config);}
$.extend(true,__setting,setting);if(__setting.paging.enabled){__paging.configure(__setting.paging);}
if($(__setting.selector).length>0){__meta.template=$(__setting.selector)[0];}
if($(__setting.container).length>0){__meta.container=$(__setting.container)[0];__meta.template=$(__meta.container).find("table")[0];if(__meta.template===undefined){__meta.template=__template.table.cloneNode();}}
if($(__setting.selector).length>0){__meta.container=__meta.template.parentNode;}}}
this.appendTo=function(container){if(container){$(container).append(__meta.template);}
return this;}
this.bindRows=function(values,value,onBinding){if(isValidArray(values)){let item=isEmpty(value)?values[0]:value;if(__setting.paging.enabled){__setting.paging.keyField=__setting.keyField;__paging.configure(__setting.paging);__paging.load(values,item,function(event){__this.clearPageRows();let n=__setting.paging.pageSize*(event.page.activeIndex-1)+1;for(let i=0;i<event.dataset.length;i++){__this.addRow(event.dataset[i],onBinding,n++);}
__meta.dataset=values;});setContainer(undefined,__meta.template,__paging.template);}else{__this.clearRows();for(let i=0;i<values.length;i++){__this.addRow(values[i],onBinding,i+1);}
setContainer(undefined,__meta.template,undefined);}}
return this;};function createPagination(){return DataPaging(__setting.paging);}
this.hideColumns=function(key,fieldNames,hidden=true){if(isValidArray(fieldNames)){if(isEmpty(key)){if(isValidArray(__meta.dataset)){for(let c=0;c<__meta.dataset.length;c++){let _key=__meta.dataset[c][__setting.keyField];__this.hideColumns(_key,fieldNames,hidden);}}}
for(let i=0;i<fieldNames.length;i++){let col=__this.getColumn(key,fieldNames[i]);if(hidden){$(col).css("visibility","hidden");}else{$(col).css("visibility","visible");}}}}
this.disableTarget=function(target,disabled=true){if(disabled){$(target).css("pointer-events","none");}else{$(target).css("pointer-events","auto");}}
this.disableColumns=function(key,fieldNames,disabled=true){if(isValidArray(fieldNames)){if(isEmpty(key)){if(isValidArray(__meta.dataset)){for(let c=0;c<__meta.dataset.length;c++){let _key=__meta.dataset[c][__setting.keyField];__this.disableColumns(_key,fieldNames,disabled);}}}
for(let i=0;i<fieldNames.length;i++){let col=__this.getColumn(key,fieldNames[i]);if(disabled){$(col).css("pointer-events","none");}else{$(col).css("pointer-events","auto");}}}}
this.disableRow=function(key,enabled=true){let row=__this.getRow(key);if(enabled){$(row).css("pointer-events","none");}else{$(row).css("pointer-events","auto");}}
function setContainer(top,middle,bottom){let $gridBox=$(__meta.template).parents(".grid-box");if($gridBox.length>0){__meta.container=$gridBox[0];}
$(__meta.container).addClass("grid-box");let $header=$(clone("div")).addClass("box-header"),$body=$(clone("div")).addClass("box-body"),$footer=$(clone("div")).addClass("box-footer");if(top){$header.html(top);}
if(middle){$body.html(middle).css("min-height",$(middle).height());}
if(bottom){$footer.html(bottom);}
if($(__meta.container).children().length>0){$(__meta.container).find(".box-header").replaceWith($header);$(__meta.container).find(".box-body").replaceWith($body);$(__meta.container).find(".box-footer").replaceWith($footer);}
$(__meta.container).append($header).append($body).append($footer);}
this.createColumn=function(json,fieldName,value){let $col=$(clone("td"));$col.append(value).attr(__setting.attribute.field,fieldName).prop("hidden",true);if(isValidJson(__setting.model)){var formControl=clone("input");formControl.setAttribute("type","hidden");formControl.value=value;concatFieldName(__setting.model,formControl,fieldName,__meta.dataset.indexOf(json));$col.append(formControl);}
if(__setting.scaleColumns.length>0){for(let c=0;c<__setting.scaleColumns.length;c++){if(fieldName.toLowerCase()===__setting.scaleColumns[c].name.toLowerCase()){defineScaleColumn(json,__setting.scaleColumns[c],$col);}}}
if(__setting.columns.length>0){for(let k=0;k<__setting.columns.length;k++){let _name=__setting.columns[k].name.toLowerCase(),_fieldName=fieldName.toLowerCase();if(_name===_fieldName||_name.split(".")[0]===_fieldName){defineTitle(__setting.columns[k],value,$col);if(_name===_fieldName){insertTemplate(json,__setting.columns[k],fieldName,value,$col);}
if(_name.split(".")[0]===_fieldName){defineNestedField(json,__setting.columns[k],fieldName,$col);}}}}
if(__setting.visibleFields.length===0){__setting.visibleFields=Object.getOwnPropertyNames(json);}
for(let c=0;c<__setting.visibleFields.length;c++){if(typeof __setting.visibleFields[c]!=="function"){if(fieldName.toLowerCase()===__setting.visibleFields[c].toLowerCase()){$col.prop("hidden",false);}}}
__setting.event.onColumnChange.call(this,fallbackColumn(json,fieldName,json[fieldName],$col[0],$col[0]));return $col;}
function defineNestedField(json,field,fieldName,$col){if(isValidJson(json[fieldName])&&field.name.indexOf(".")>0){$col.html(json[fieldName][field.name.split(".")[1]]);$col.attr(__setting.attribute.field,field.name);insertTemplate(json,field,fieldName,json[fieldName][field.name.split(".")[1]],$col);}}
function defineReadonly(json,propName,readonly=true){Object.defineProperty(json,propName,{writable:!readonly});}
function defineIndex(row,index){if(__setting.indexed){if($(row).length>0){let td=clone("td");$(td).text(index);$(row).prepend(td);}}}
function defineSelectList(items,select){let _select=select?select:clone("select",true);if(isValidArray(items)){$.each(items,function(i,item){let option=$(clone("option")).prop("selected",item["Selected"]).prop("disabled",item["Disabled"]).val(item["Value"]).text(item["Text"]);$(_select).append(option);});}
return $(_select)[0];}
this.createRow=function(item,index){let $row=$(clone("tr"));if(isValidJson(item)){defineReadonly(item,__setting.keyField);$.each(item,function(field,value){let $col=__this.createColumn(item,field,value);defineSummary(field);$row.append($col).attr(__setting.attribute.key,item[__setting.keyField]);});defineIndex($row,index);defineActions(item,$row);__setting.event.onRowChange.call(this,fallbackRow(item,$row[0]));}
return $row;};this.yield=function(callback){if(typeof callback==="function"){callback.call(this,__meta.dataset);}else{return __meta.dataset;}}
this.reload=function(values,pageItem){if(isValidArray(values)){__meta.dataset=values;}
__this.bindRows(__meta.dataset,pageItem);}
this.forEachRow=function(callback){if(typeof callback==="function"){let rows=$(__meta.template).find("tr["+__setting.attribute.key+"]");for(let i=0;i<__meta.dataset.length;i++){callback.call(this,i,__meta.dataset[i],rows[i]);}}
return this;}
this.addRow=function(json,callback,index){let isExisting=__meta.dataset.some(function(item){return item[__setting.keyField]==json[__setting.keyField];});if(!isExisting){__meta.dataset.push(json);let row=clone("tr"),_index=__meta.template.rows.length;if(!isNaN(index)){_index=index;}
row=this.createRow(json,_index);if(typeof callback==="function"){callback.call(__this,fallbackRow(json,row));}
$(__meta.template).append(row);}
return this;};this.addRowAfter=function(json,relatedKey,callback){let existedItem=this.find(json);if(existedItem){throw Error("The item[key="+json[__setting.keyField]+"] is already existing.");}else{let row=$(__meta.template).find("tr["+__setting.attribute.key+"='"+relatedKey+"']")[0],$newRow=__this.createRow(json);if(typeof callback==="function"){callback.call(__this,fallbackRow(json,$newRow[0]));}
$(row).after($newRow);let itemIndex=__this.find(relatedKey);__meta.dataset.splice(itemIndex+1,0,json);}}
this.updateRow=function(json,callback){if(typeof highlight==="boolean"&&highlight===true){__setting.row.highlightOnUpdate=highlight;}
let found=$.grep(__meta.dataset,function(item,i){if(item[__setting.keyField]==json[__setting.keyField]){$.each(item,function(k,v){item[k]=json[k];});let $row=$(__meta.template).find("tr["+__setting.attribute.key+"='"+json[__setting.keyField]+"']"),$newRow=__this.createRow(item,i+1);if($row.length<=0){$(__meta.template).append($newRow);}else{$row.replaceWith($newRow);}
if(typeof callback==="function"){__setting.onRowChange=callback;}
if(__setting.row.highlightOnUpdate){__this.highlightRow(json);}
return true;}
return false;})[0];if(!found){this.addRow(json,callback);if(__setting.row.highlightOnUpdate){__this.highlightRow(json);}}}
this.updateColumn=function(key,fieldName,value){let _item=this.find(key);if(_item){let col=this.getColumn(key,fieldName);$(col).replaceWith(this.createColumn(_item,fieldName,value));_item[fieldName]=value;}}
this.clearPageRows=function(templateOnly=false){if(!templateOnly){__meta.dataset=new Array();}
$(__meta.template).find("tr["+__setting.attribute.key+"]").remove();}
this.clearRows=function(templateOnly=false){this.clearPageRows(templateOnly);if(__setting.paging.enabled){__paging.load();}
return this;}
this.removeRow=function(key,templateOnly=false){let $row=$(__meta.template).find("tr["+__setting.attribute.key+"='"+key+"']");$row.remove();if(!templateOnly){__meta.dataset=$.grep(__meta.dataset,function(item,i){return item[__setting.keyField]!==key;});if(__setting.paging.enabled){__paging.removeJson(key);}}
return this;};this.find=function(value){if(isValidJson(value)){return $.grep(__meta.dataset,function(item,i){return item[__setting.keyField]==value[__setting.keyField];})[0];}
return $.grep(__meta.dataset,function(item,i){return item[__setting.keyField]==value;})[0];};this.highlightRow=function(value){let _row=this.getRow(value);if(_row){__activeRow.template=$(_row)[0];__activeRow.data=value;$(_row).addClass("active").siblings().removeClass("active");$(_row)[0].scrollIntoView({behavior:"smooth",block:"nearest"});}}
this.getRow=function(value){if(isValidJson(value)){return $(__meta.template).find("tr["+__setting.attribute.key+"='"+value[__setting.keyField]+"']")[0];}
return $(__meta.template).find("tr["+__setting.attribute.key+"='"+value+"']")[0];}
this.getColumn=function(key,fieldName){var col=$(this.getRow(key)).find("td["+__setting.attribute.field+"="+fieldName+"]")[0];return col;}
this.getActiveRow=function(){if(isValidJson(__activeRow)){return __activeRow;}}
this.onColumnChange=function(callback){__setting.event.onColumnChange=callback;return this;}
this.onRowChange=function(callback){__setting.event.onRowChange=callback;return this;}
function defineScaleColumn(data,scaleColumn,col){if(isValidJson(scaleColumn)){let value=modifyDataType(data[scaleColumn.name],scaleColumn);let $scaleBox=$(clone("div")).addClass("scale-box active"),$scaleDown=$(clone("i")).text("-").addClass("scale-down"),$scaleValue=$(clone("div")).addClass("scale").text(value),$scaleUp=$(clone("i")).text("+").addClass("scale-up");let downEvent=isValidJson(scaleColumn.onScaleDown)?Object.keys(scaleColumn.onScaleDown)[0]:"",upEvent=isValidJson(scaleColumn.onScaleUp)?Object.keys(scaleColumn.onScaleUp)[0]:"";$scaleDown.on(downEvent.toLowerCase(),function(e){if(typeof data[scaleColumn.name]==="number"){data[scaleColumn.name]-=(scaleColumn.offset)?scaleColumn.offset:1;$scaleValue.text(data[scaleColumn.name]);}
scaleColumn.onScaleDown[downEvent].call($scaleDown[0],fallbackColumn(data,scaleColumn.name,data[scaleColumn.name],$scaleDown[0],$(col)[0]),e);});$scaleUp.on(upEvent.toLowerCase(),function(e){if(typeof data[scaleColumn.name]==="number"){data[scaleColumn.name]+=(scaleColumn.offset)?scaleColumn.offset:1;$scaleValue.text(data[scaleColumn.name]);}
scaleColumn.onScaleUp[upEvent].call($scaleUp[0],fallbackColumn(data,scaleColumn.name,data[scaleColumn.name],$scaleUp[0],$(col)[0]),e);});$scaleBox.append($scaleDown).append($scaleValue).append($scaleUp);$(col).html($scaleBox);}};function defineSummary(column){if(isValidJson(column)){if(column.summary===true){for(let i=0;i<__meta.dataset;i++){result+=__meta.dataset[i][column.name];}}}}
function defineActions(data,row){let $col=$(clone("td"));for(let i=0;i<__setting.actions.length;i++){if(isValidJson(__setting.actions[i])){let target=$(__setting.actions[i].template)[0],event=Object.keys(__setting.actions[i].on)[0];$(target).on(event.toLowerCase(),function(e){__setting.actions[i].on[event].call(target,fallbackColumn(data,undefined,undefined,target,$col[0]),e);});$col.append(target);if(i<__setting.actions.length-1){$col.append("&nbsp;✦&nbsp;");}
$(row).append($col);}}}
const EPSILON=Math.pow(2,-52);function formatNumber(value,dataFormat){if(!isNaN(value)){let format={decimal:".",separator:",",fixed:3};format=$.extend(format,dataFormat);let _value=value.toString();if(_value.indexOf(format.decimal)>0){let values=value.toString().split(format.decimal);values[values.length-1]+=createZeroes(format.fixed-values[values.length-1].length);values[values.length-1]=values[values.length-1].substring(0,format.fixed);_value=values.join(format.decimal);}else{_value=_value+format.decimal+createZeroes(format.fixed);}
let pattern=new RegExp("\\d(?=(\\d{3})+\\"+format.decimal+")","g");return _value.replace(pattern,"$&"+format.separator);}}
function createZeroes(length){let result="";for(let i=0;i<length;i++,result+="0");return result;}
function modifyDataType(value,field){if(field.dataType){switch(field.dataType.toLowerCase()){case"number":value=formatNumber(value,field.dataFormat);break;case"date":value=formatDate(value,field);break;}}
return value;}
function formatDate(value,field){var regex=new RegExp("[\-\/\.\s+]","gi");var separator=regex.exec(field.dataFormat);let _field={dataType:"date",dataFormat:"YYYY-MM-DD"},dt=new Date(value),objFormat={MM:("0"+(dt.getMonth()+1)).slice(-2),DD:("0"+dt.getDate()).slice(-2),YYYY:dt.getFullYear().toString()},dateString="";if(isValidJson(field)){$.extend(_field,field);}
let dateFormats=_field.dataFormat.split(regex);for(let i=0;i<dateFormats.length;i++){let datePattern=objFormat[dateFormats[i].replace(/\s+/g,"")];dateString+=datePattern;if(i<dateFormats.length-1){dateString+=separator[0];}}
return dateString;}
function concatFieldName(model,target,fieldName,rowIndex){if(isValidJson(model)){var props=Object.getOwnPropertyNames(model);var nameAttr="";for(let i=0;i<props.length;i++){if(isValidJson(model[props[i]])){nameAttr+=props[i]+"."+concatFieldName(model[props[i]],target,fieldName,rowIndex);}
if(Array.isArray(model[props[i]])&&model[props[i]].length===0){nameAttr+=props[i]+"["+rowIndex+"]";if(model[props[i]].length<=0){nameAttr+="."+fieldName;}}}
target.setAttribute("name",nameAttr);return nameAttr;}}
function defineTitle(field,value,$col){if(isValidJson(field.title)){if(field.title.enabled){$col.attr("title",value);if(field.title.text!==""){$col.attr("title",field.title.text);}}}}
function insertTemplate(data,field,fieldName,value,col){if(isValidJson(field)){let target=$(field.template)[0];if(field.nameField===undefined){field.nameField=field.name;}
concatFieldName(__setting.model,target,field.nameField,__meta.dataset.indexOf(data));value=modifyDataType(value,field);if(!target){target=col;if(field.name){$(target).html(value);}}else{defineTargetValue(target,data,value,field);switch(field.insertion){case"prepend":$(col).prepend(target);break;case"append":$(col).append(target);break;case"replace":$(col).html(target);break;default:$(col).html(target);break;}}
if(isValidJson(field.on)){let event=Object.getOwnPropertyNames(field.on)[0];$(target).off(event.toLowerCase()).on(event.toLowerCase(),function(e){syncData(target,data,field.nameField);field.on[event].call(target,fallbackColumn(data,field.name,data[field.name],target,$(col)[0]),e);});}else{$(target).on("change",function(e){syncData(target,data,field.nameField);});}}}
function defineTargetValue(target,data,value,field){switch(target.tagName){case"INPUT":switch(target.getAttribute("type")){case"date":target.valueAsDate=new Date(value);if(!value){target.value="";}
break;case"checkbox":case"radio":$(target).prop("checked",value);target.value=value;break;default:target.value=value;break;}
break;case"SELECT":if(isValidArray(data[field.name])){defineSelectList(data[field.name],target);}else{target.value=value;}
break;case"TEXTAREA":target.value=value;break;default:target.textContent=value;break;}}
function isBoolean(stringValue){if((/true/i).test(stringValue)||(/false/i).test(stringValue)){return typeof JSON.parse(stringValue)==="boolean";}
return false;}
function syncData(target,json,fieldName){if(__setting.dataSynced){switch(target.tagName){case"INPUT":switch(target.getAttribute("type")){case"checkbox":case"radio":if(isBoolean(json[fieldName])){json[fieldName]=$(target).prop("checked");}else{json[fieldName]=target.value;}
target.value=json[fieldName];break;default:json[fieldName]=target.value;break;}
break;case"SELECT":case"TEXTAREA":json[fieldName]=target.value;break;default:json[fieldName]=target.textContent;break;}}}
function fallbackRow(data,target){return{key:data[__setting.keyField],data:data,row:target,columns:target.childNodes,meta:__meta}}
function fallbackColumn(data,fieldName,fieldValue,target,col){__this.highlightRow(data);return{key:data[__setting.keyField],fieldName:fieldName,fieldValue:fieldValue,data:data,target:target,column:col,row:col.parentNode,meta:__meta}}
function groupBy(values,keys,process){let grouped={};for(let i=0;i<values.length;i++){let a=values[i];keys.reduce(function(o,j,k){o[a[j]]=o[a[j]]||(k+1===keys.length?[]:{});return o[a[j]];},grouped).push(a);}
if(typeof process==="function"){process(grouped);}
return grouped;}
function clone(templateProp,deep){if(deep){return __template[templateProp].cloneNode(deep);}
return __template[templateProp].cloneNode(deep);}
function isEmpty(value){return value==undefined||value==null||value=="";}
function isValidJson(json){return!isEmpty(json)&&json.constructor===Object&&Object.keys(json).length>0;};function isValidArray(array){return Array.isArray(array)&&array.length>0;};});﻿function getRandomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min;}
function arrayUnion(array1,array2){var newArray=[];$.merge($.merge(newArray,array1),array2);$.unique(newArray);return newArray;}
$('body').ready(function($){window.dots=new BasicDots($);$('a.redraw').on('click',function(e){e.preventDefault();$('a.redraw').fadeOut(100);$('.dots-container').html("");window.dots=new BasicDots($);return false;});});var BasicDots=function($,generateDotData,onCompleted){var _this=this;var dotData=[];var inters=[];var startPoint;function _init(){dotData=generateDotData();initializeDots();$(window).on('resize orientationchange',function(){layoutDots();});$('.dots-container').on('mousemove',function(e){e.preventDefault();});$('.dots-container').on('completed',function(){onCompleted();});}
var generateDotData=generateDotData||function(){var dotData=[];var count=parseInt(($(window).height()+$(window).width())/ 75);for(var i=0;i<count;i++){var dot={};dot.iD="dot"+i;dot.diameter=getRandomInt(20,100);dot.rgb={r:getRandomInt(100,255),g:getRandomInt(100,255),b:getRandomInt(100,255)};dotData.push(dot);}
return dotData;};var onCompleted=onCompleted||function(){$('a.redraw').fadeIn();};var initializeDots=function(){for(var i=0;i<dotData.length;i++){var dot=dotData[i];drawDot(dot);}
layoutDots();$('.dot').on('mousedown',function(e){startDrag($(this),{x:e.clientX,y:e.clientY});});};var drawDot=function(dotData){$('.dots-container').prepend('<div id="'+dotData.iD+'" class="dot"></div>');var $dot=$('#'+dotData.iD+'.dot');$dot.css({height:dotData.diameter,width:dotData.diameter,background:'rgb('+dotData.rgb.r+','+dotData.rgb.g+','+dotData.rgb.b+')',});};var layoutDots=function(){var h=$(window).height();var w=$(window).width();$('.dot').each(function(){$dot=$(this);do{var top=getRandomInt(10,h-110);var left=getRandomInt(10,w-110);$dot.css({top:top,left:left,});var collided=findCollisions($dot);var isCollided=(collided.length>0);}while(isCollided);});};var startDrag=function($dot,startPoint){$dot.addClass('up');var collided=[];$('.dots-container').on('mousemove',function(e){e.preventDefault();var dX=e.clientX-startPoint.x;var dY=e.clientY-startPoint.y;$dot.css({left:parseFloat($dot.css('left').replace('px',''))+dX+'px',top:parseFloat($dot.css('top').replace('px',''))+dY+'px',});startPoint={x:e.clientX,y:e.clientY};var oldCollided=collided;collided=findCollisions($dot);var union=arrayUnion(oldCollided,collided);for(var i=0;i<union.length;i++){if((oldCollided.indexOf(union[i])==-1)&&(collided.indexOf(union[i])>-1)){collide($dot,$('#'+union[i]));}else if((oldCollided.indexOf(union[i])>-1)&&(collided.indexOf(union[i])>-1)){moveCollision($dot,$('#'+union[i]));}else if((oldCollided.indexOf(union[i])>-1)&&(collided.indexOf(union[i])==-1)){uncollide($dot,$('#'+union[i]));}}});$('.dots-container').on('mouseup',function(){stopDrag($dot,collided);});};var stopDrag=function($dot,collided){$dot.removeClass('up');$('.dots-container').off('mousemove mouseup');for(var i=0;i<collided.length;i++){resolveColision($dot,$('#'+collided[i]));}};var findCollisions=function($dot){$dot.addClass('checking');var midpoint={x:$dot.position().left+($dot.width()/ 2),y:$dot.position().top+($dot.height()/ 2)};var collided=[];$('.dot:not(.checking)').each(function(){var minD=($dot.width()/ 2)+($(this).width()/ 2);var cMidpoint={x:$(this).position().left+($(this).width()/ 2),y:$(this).position().top+($(this).height()/ 2)};var x=(midpoint.x-cMidpoint.x);var y=(midpoint.y-cMidpoint.y);var d=Math.sqrt((x*x)+(y*y));if(d<minD){collided.push($(this).attr('id'));}});$dot.removeClass('checking');return collided;};var collide=function($originalDot,$collideDot){var $overlap=$originalDot.find('.overlap[data-collided-with="'+$collideDot.attr('id')+'"]');if($overlap.length==0){$originalDot.prepend('<div class="overlap" data-collided-with="'+$collideDot.attr('id')+'"></div>');$overlap=$originalDot.find('.overlap[data-collided-with="'+$collideDot.attr('id')+'"]');var rgb1=$originalDot.css('background-color').match(/(?:rgb\()(.*?)(?:\))/)[1].split(", ");var rgb2=$collideDot.css('background-color').match(/(?:rgb\()(.*?)(?:\))/)[1].split(", ");var r=parseInt((parseInt(rgb1[0])+parseInt(rgb2[0]))/ 2);var g=parseInt((parseInt(rgb1[1])+parseInt(rgb2[1]))/ 2);var b=parseInt((parseInt(rgb1[2])+parseInt(rgb2[2]))/ 2);$overlap.css({backgroundColor:'rgb('+r+','+g+','+b+')',height:$collideDot.css('height'),width:$collideDot.css('width'),boxShadow:'0px 0px 2px rgb('+r+','+g+','+b+')',});oscillateColor($overlap,'rgb('+rgb1[0]+', '+rgb1[1]+', '+rgb1[2]+')','rgb('+rgb2[0]+', '+rgb2[1]+', '+rgb2[2]+')');}
moveCollision($originalDot,$collideDot);};var moveCollision=function($originalDot,$collideDot){var $overlap=$originalDot.find('.overlap[data-collided-with="'+$collideDot.attr('id')+'"]');if($overlap.length==0){collide($originalDot,$collideDot);$overlap=$originalDot.find('.overlap[data-collided-with="'+$collideDot.attr('id')+'"]');}
var top=parseFloat($collideDot.css('top').replace('px',''))-parseFloat($originalDot.css('top').replace('px',''));var left=parseFloat($collideDot.css('left').replace('px',''))-parseFloat($originalDot.css('left').replace('px',''));$overlap.css({top:top+'px',left:left+'px'});};var uncollide=function($originalDot,$collideDot){$overlap=$originalDot.find('.overlap[data-collided-with="'+$collideDot.attr('id')+'"]');if($overlap.length>0){$overlap.remove();}};var resolveColision=function($originalDot,$collideDot){$originalDot.find('.overlap').remove();for(var i=0;i<inters.length;i++){clearInterval(inters[i]);}
var rgb1=$originalDot.css('background-color').match(/(?:rgb\()(.*?)(?:\))/)[1].split(", ");var rgb2=$collideDot.css('background-color').match(/(?:rgb\()(.*?)(?:\))/)[1].split(", ");var r=parseInt((parseInt(rgb1[0])+parseInt(rgb2[0]))/ 2);var g=parseInt((parseInt(rgb1[1])+parseInt(rgb2[1]))/ 2);var b=parseInt((parseInt(rgb1[2])+parseInt(rgb2[2]))/ 2);var diameter=(parseFloat($collideDot.css('width').replace('px',''))+parseFloat($originalDot.css('width').replace('px','')))/ 2;var top=parseFloat($originalDot.css('top').replace('px',''));var left=parseFloat($originalDot.css('left').replace('px',''));$originalDot.addClass('merging');$originalDot.addClass('od');$originalDot.css({backgroundColor:'rgb('+r+','+g+','+b+')',height:diameter,width:diameter,top:top,left:left});$collideDot.addClass('merging');$collideDot.css({backgroundColor:'rgb('+r+','+g+','+b+')',height:diameter,width:diameter,top:top,left:left});setTimeout(function(){$originalDot.removeClass('merging');$originalDot.removeClass('od');$collideDot.remove();checkSingleDot();},500);};var checkSingleDot=function(){if($('.dot').length==1){$('.dots-container').trigger('completed');}};var oscillateColor=function($overlap,rgb1,rgb2){$overlap.css('background-color',rgb2);setTimeout(function(){$overlap.css('background-color',rgb1);},1000);var inter=setInterval(function(){$overlap.css('background',rgb2);setTimeout(function(){$overlap.css('background-color',rgb1);},1000);},2000);inters.push(inter);};_init.call(this);};